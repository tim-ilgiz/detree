2020-03-03 23:05:45.671 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-03 23:05:46.588 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-03 23:06:20.623 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-03 23:06:20.963 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-03 23:08:53.842 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-03 23:08:54.643 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-03 23:09:29.326 +03:00 [ERR] Failed executing DbCommand (104ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Key", p."ClientId", p."CreationTime", p."Data", p."Expiration", p."SubjectId", p."Type"
FROM "PersistedGrants" AS p
WHERE p."Expiration" < NOW() AT TIME ZONE 'UTC'
ORDER BY p."Key"
LIMIT @__p_0
2020-03-03 23:09:30.112 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "PersistedGrants" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "PersistedGrants" does not exist
    Position: 105
    File: parse_relation.c
    Line: 1194
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "PersistedGrants" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "PersistedGrants" does not exist
    Position: 105
    File: parse_relation.c
    Line: 1194
    Routine: parserOpenTable
2020-03-03 23:09:30.152 +03:00 [ERR] Exception removing expired grants: 42P01: relation "PersistedGrants" does not exist
2020-03-03 23:10:00.442 +03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Key", p."ClientId", p."CreationTime", p."Data", p."Expiration", p."SubjectId", p."Type"
FROM "PersistedGrants" AS p
WHERE p."Expiration" < NOW() AT TIME ZONE 'UTC'
ORDER BY p."Key"
LIMIT @__p_0
2020-03-03 23:10:00.507 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "PersistedGrants" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "PersistedGrants" does not exist
    Position: 105
    File: parse_relation.c
    Line: 1194
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "PersistedGrants" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "PersistedGrants" does not exist
    Position: 105
    File: parse_relation.c
    Line: 1194
    Routine: parserOpenTable
2020-03-03 23:10:00.528 +03:00 [ERR] Exception removing expired grants: 42P01: relation "PersistedGrants" does not exist
2020-03-03 23:15:47.053 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-03 23:15:47.496 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-03 23:17:43.818 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-03 23:17:44.470 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-03 23:18:19.057 +03:00 [ERR] Failed executing DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Key", p."ClientId", p."CreationTime", p."Data", p."Expiration", p."SubjectId", p."Type"
FROM "PersistedGrants" AS p
WHERE p."Expiration" < NOW() AT TIME ZONE 'UTC'
ORDER BY p."Key"
LIMIT @__p_0
2020-03-03 23:18:19.261 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "PersistedGrants" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "PersistedGrants" does not exist
    Position: 105
    File: parse_relation.c
    Line: 1194
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "PersistedGrants" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "PersistedGrants" does not exist
    Position: 105
    File: parse_relation.c
    Line: 1194
    Routine: parserOpenTable
2020-03-03 23:18:19.281 +03:00 [ERR] Exception removing expired grants: 42P01: relation "PersistedGrants" does not exist
2020-03-03 23:21:18.580 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-03 23:21:19.239 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 11:51:39.064 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 11:51:39.208 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 11:52:10.284 +03:00 [INF] Removing 0 grants
2020-03-04 11:52:11.544 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:52:41.596 +03:00 [INF] Removing 0 grants
2020-03-04 11:52:41.600 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:53:11.646 +03:00 [INF] Removing 0 grants
2020-03-04 11:53:11.652 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:53:41.683 +03:00 [INF] Removing 0 grants
2020-03-04 11:53:41.689 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:54:11.715 +03:00 [INF] Removing 0 grants
2020-03-04 11:54:11.722 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:54:41.748 +03:00 [INF] Removing 0 grants
2020-03-04 11:54:41.753 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:55:11.781 +03:00 [INF] Removing 0 grants
2020-03-04 11:55:11.798 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:55:41.826 +03:00 [INF] Removing 0 grants
2020-03-04 11:55:41.834 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:56:11.870 +03:00 [INF] Removing 0 grants
2020-03-04 11:56:11.877 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:56:41.902 +03:00 [INF] Removing 0 grants
2020-03-04 11:56:41.910 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:57:11.938 +03:00 [INF] Removing 0 grants
2020-03-04 11:57:11.951 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:57:41.965 +03:00 [INF] Removing 0 grants
2020-03-04 11:57:41.972 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:58:11.994 +03:00 [INF] Removing 0 grants
2020-03-04 11:58:12.002 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:58:42.026 +03:00 [INF] Removing 0 grants
2020-03-04 11:58:42.033 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:59:12.075 +03:00 [INF] Removing 0 grants
2020-03-04 11:59:12.078 +03:00 [INF] Removing 0 device flow codes
2020-03-04 11:59:42.104 +03:00 [INF] Removing 0 grants
2020-03-04 11:59:42.111 +03:00 [INF] Removing 0 device flow codes
2020-03-04 12:00:12.139 +03:00 [INF] Removing 0 grants
2020-03-04 12:00:12.154 +03:00 [INF] Removing 0 device flow codes
2020-03-04 12:00:42.185 +03:00 [INF] Removing 0 grants
2020-03-04 12:00:42.189 +03:00 [INF] Removing 0 device flow codes
2020-03-04 12:01:12.213 +03:00 [INF] Removing 0 grants
2020-03-04 12:01:12.216 +03:00 [INF] Removing 0 device flow codes
2020-03-04 12:02:13.203 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 12:02:13.359 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 12:02:44.369 +03:00 [INF] Removing 0 grants
2020-03-04 12:02:44.383 +03:00 [INF] Removing 0 device flow codes
2020-03-04 12:04:03.246 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 12:04:03.423 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 12:15:51.071 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 12:15:51.229 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 12:20:33.313 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 12:20:33.484 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 12:22:25.863 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 12:22:26.027 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 12:22:57.062 +03:00 [INF] Removing 0 grants
2020-03-04 12:22:57.075 +03:00 [INF] Removing 0 device flow codes
2020-03-04 12:23:27.122 +03:00 [INF] Removing 0 grants
2020-03-04 12:23:27.128 +03:00 [INF] Removing 0 device flow codes
2020-03-04 12:25:53.644 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 12:25:53.796 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 12:25:54.845 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-04 12:26:56.488 +03:00 [ERR] The view 'Login' was not found. Searched locations: ["/Views/Account/Login.cshtml","/Views/Shared/Login.cshtml","/Pages/Shared/Login.cshtml"]
2020-03-04 12:26:56.543 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Login' was not found. The following locations were searched:
/Views/Account/Login.cshtml
/Views/Shared/Login.cshtml
/Pages/Shared/Login.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-04 12:26:56.595 +03:00 [ERR] An exception was thrown attempting to execute the error handler.
System.InvalidOperationException: Invalid non-ASCII or control character in header: 0x000D
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowInvalidHeaderCharacter(Char ch)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ValidateHeaderValueCharacters(StringValues headerValues)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.AddValueFast(String key, StringValues value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.System.Collections.Generic.IDictionary<System.String,Microsoft.Extensions.Primitives.StringValues>.Add(String key, StringValues value)
   at Application.Extensions.HttpResponseExtensions.AddApplicationError(HttpResponse response, String message) in C:\ILGIZ\Study\detree\auth\Application\Extensions\HttpResponseExtensions.cs:line 12
   at IdentityServer.Startup.<>c.<<Configure>b__10_3>d.MoveNext() in C:\ILGIZ\Study\detree\auth\IdentityServer\Startup.cs:line 93
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2020-03-04 12:26:56.598 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Login' was not found. The following locations were searched:
/Views/Account/Login.cshtml
/Views/Shared/Login.cshtml
/Pages/Shared/Login.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-03-04 12:26:57.423 +03:00 [INF] Removing 0 grants
2020-03-04 12:26:57.437 +03:00 [INF] Removing 0 device flow codes
2020-03-04 12:27:28.425 +03:00 [INF] Removing 0 grants
2020-03-04 12:27:28.431 +03:00 [INF] Removing 0 device flow codes
2020-03-04 12:27:51.500 +03:00 [ERR] The view 'Login' was not found. Searched locations: ["/Views/Account/Login.cshtml","/Views/Shared/Login.cshtml","/Pages/Shared/Login.cshtml"]
2020-03-04 12:27:51.521 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Login' was not found. The following locations were searched:
/Views/Account/Login.cshtml
/Views/Shared/Login.cshtml
/Pages/Shared/Login.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-04 12:27:54.804 +03:00 [ERR] An exception was thrown attempting to execute the error handler.
System.InvalidOperationException: Invalid non-ASCII or control character in header: 0x000D
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowInvalidHeaderCharacter(Char ch)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ValidateHeaderValueCharacters(StringValues headerValues)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.AddValueFast(String key, StringValues value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.System.Collections.Generic.IDictionary<System.String,Microsoft.Extensions.Primitives.StringValues>.Add(String key, StringValues value)
   at Application.Extensions.HttpResponseExtensions.AddApplicationError(HttpResponse response, String message) in C:\ILGIZ\Study\detree\auth\Application\Extensions\HttpResponseExtensions.cs:line 12
   at IdentityServer.Startup.<>c.<<Configure>b__10_3>d.MoveNext() in C:\ILGIZ\Study\detree\auth\IdentityServer\Startup.cs:line 93
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
2020-03-04 12:27:54.808 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Login' was not found. The following locations were searched:
/Views/Account/Login.cshtml
/Views/Shared/Login.cshtml
/Pages/Shared/Login.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-03-04 12:27:58.452 +03:00 [INF] Removing 0 grants
2020-03-04 12:27:58.463 +03:00 [INF] Removing 0 device flow codes
2020-03-04 13:01:20.215 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 13:01:20.426 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 13:01:21.605 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-04 13:01:51.553 +03:00 [INF] Removing 0 grants
2020-03-04 13:01:51.568 +03:00 [INF] Removing 0 device flow codes
2020-03-04 13:02:21.617 +03:00 [INF] Removing 0 grants
2020-03-04 13:02:21.624 +03:00 [INF] Removing 0 device flow codes
2020-03-04 13:03:04.096 +03:00 [INF] Removing 0 grants
2020-03-04 13:03:04.103 +03:00 [INF] Removing 0 device flow codes
2020-03-04 13:03:37.668 +03:00 [INF] Removing 0 grants
2020-03-04 13:03:37.675 +03:00 [INF] Removing 0 device flow codes
2020-03-04 13:04:07.700 +03:00 [INF] Removing 0 grants
2020-03-04 13:04:07.707 +03:00 [INF] Removing 0 device flow codes
2020-03-04 13:04:38.715 +03:00 [INF] Removing 0 grants
2020-03-04 13:04:38.719 +03:00 [INF] Removing 0 device flow codes
2020-03-04 13:37:19.839 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 13:37:20.049 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 13:37:21.557 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-04 13:38:11.808 +03:00 [INF] Removing 0 grants
2020-03-04 13:38:11.824 +03:00 [INF] Removing 0 device flow codes
2020-03-04 13:38:23.257 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 13:38:23.377 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 13:38:23.431 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 14:12:31.718 +03:00 [INF] Removing 0 grants
2020-03-04 14:12:31.722 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:12:51.461 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 14:12:51.517 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 14:12:51.521 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 14:20:26.296 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 14:20:26.312 +03:00 [INF] Removing 0 grants
2020-03-04 14:20:26.316 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:20:26.370 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 14:20:26.372 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 14:20:56.339 +03:00 [INF] Removing 0 grants
2020-03-04 14:20:56.349 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:21:26.378 +03:00 [INF] Removing 0 grants
2020-03-04 14:21:26.386 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:21:56.409 +03:00 [INF] Removing 0 grants
2020-03-04 14:21:56.412 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:22:26.432 +03:00 [INF] Removing 0 grants
2020-03-04 14:22:26.439 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:22:56.451 +03:00 [INF] Removing 0 grants
2020-03-04 14:22:56.458 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:23:26.482 +03:00 [INF] Removing 0 grants
2020-03-04 14:23:26.491 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:23:56.518 +03:00 [INF] Removing 0 grants
2020-03-04 14:23:56.524 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:24:26.547 +03:00 [INF] Removing 0 grants
2020-03-04 14:24:26.551 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:24:56.572 +03:00 [INF] Removing 0 grants
2020-03-04 14:24:56.579 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:25:26.592 +03:00 [INF] Removing 0 grants
2020-03-04 14:25:26.601 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:25:56.627 +03:00 [INF] Removing 0 grants
2020-03-04 14:25:56.636 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:26:19.556 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 14:26:19.614 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 14:26:19.618 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 14:31:57.496 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 14:31:57.499 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 14:31:57.511 +03:00 [INF] Removing 0 grants
2020-03-04 14:31:57.515 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:32:27.526 +03:00 [INF] Removing 0 grants
2020-03-04 14:32:27.533 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:32:57.559 +03:00 [INF] Removing 0 grants
2020-03-04 14:32:57.567 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:51:24.627 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 14:51:24.763 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 14:51:26.396 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-04 14:51:40.311 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 14:51:40.432 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 14:51:40.473 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 14:53:46.088 +03:00 [INF] Removing 0 grants
2020-03-04 14:53:46.101 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:54:16.145 +03:00 [INF] Removing 0 grants
2020-03-04 14:54:16.151 +03:00 [INF] Removing 0 device flow codes
2020-03-04 14:55:12.095 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 14:55:12.243 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 14:55:13.815 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-04 14:55:22.489 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 14:55:22.613 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 14:55:22.654 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 14:59:21.912 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 14:59:21.919 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 15:02:46.855 +03:00 [INF] Removing 0 grants
2020-03-04 15:02:46.875 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:03:21.624 +03:00 [INF] Removing 0 grants
2020-03-04 15:03:21.632 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:03:51.667 +03:00 [INF] Removing 0 grants
2020-03-04 15:03:51.680 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:04:29.763 +03:00 [INF] Removing 0 grants
2020-03-04 15:04:29.843 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:05:00.539 +03:00 [INF] Removing 0 grants
2020-03-04 15:05:00.541 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-04 15:05:00.547 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:05:30.563 +03:00 [INF] Removing 0 grants
2020-03-04 15:05:30.570 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:05:58.292 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: invalid return URL
   at IdentityServer.Controllers.AccountController.Login(LoginInputModel model, String button) in C:\ILGIZ\Study\detree\auth\IdentityServer\Controllers\AccountController.cs:line 145
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-04 15:06:00.586 +03:00 [INF] Removing 0 grants
2020-03-04 15:06:00.591 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:06:30.613 +03:00 [INF] Removing 0 grants
2020-03-04 15:06:30.619 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:06:52.388 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: invalid return URL
   at IdentityServer.Controllers.AccountController.Login(LoginInputModel model, String button) in C:\ILGIZ\Study\detree\auth\IdentityServer\Controllers\AccountController.cs:line 145
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-04 15:07:00.635 +03:00 [INF] Removing 0 grants
2020-03-04 15:07:00.639 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:07:02.951 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 15:07:03.019 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 15:07:03.022 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 15:07:31.933 +03:00 [INF] Removing 0 grants
2020-03-04 15:07:31.937 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:07:31.945 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-04 15:07:39.817 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-04 15:08:01.952 +03:00 [INF] Removing 0 grants
2020-03-04 15:08:01.960 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:08:14.663 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 15:08:14.702 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 15:08:14.706 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 15:08:31.981 +03:00 [INF] Removing 0 grants
2020-03-04 15:08:31.988 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:10:05.181 +03:00 [ERR] An error occurred using the connection to database 'dtdb' on server 'tcp://localhost:5432'.
2020-03-04 15:11:24.875 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 15:11:25.025 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 15:11:26.455 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-04 15:11:55.892 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 15:11:56.000 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 15:11:56.049 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 15:11:59.344 +03:00 [INF] Removing 0 grants
2020-03-04 15:11:59.358 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:12:30.766 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-04 15:12:30.773 +03:00 [INF] Removing 0 grants
2020-03-04 15:12:30.780 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:13:00.798 +03:00 [INF] Removing 0 grants
2020-03-04 15:13:00.804 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:13:34.494 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 15:13:34.690 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 15:13:36.294 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-04 15:13:42.322 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 15:13:42.435 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 15:13:42.478 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 15:14:08.287 +03:00 [INF] Removing 0 grants
2020-03-04 15:14:08.300 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:14:38.346 +03:00 [INF] Removing 0 grants
2020-03-04 15:14:38.352 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:38:01.857 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 15:38:02.027 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 15:38:03.720 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-04 15:38:32.102 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 15:38:32.261 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 15:38:32.304 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 15:38:38.869 +03:00 [INF] Removing 0 grants
2020-03-04 15:38:38.884 +03:00 [INF] Removing 0 device flow codes
2020-03-04 15:39:21.366 +03:00 [INF] Removing 0 grants
2020-03-04 15:39:21.374 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:00:53.471 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 16:00:53.638 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 16:00:55.526 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-04 16:01:04.660 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 16:01:04.825 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 16:01:04.870 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 16:01:23.865 +03:00 [INF] Removing 0 grants
2020-03-04 16:01:23.877 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:06:20.259 +03:00 [INF] Removing 0 grants
2020-03-04 16:06:20.263 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:06:50.289 +03:00 [INF] Removing 0 grants
2020-03-04 16:06:50.295 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:07:20.312 +03:00 [INF] Removing 0 grants
2020-03-04 16:07:20.328 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:07:50.357 +03:00 [INF] Removing 0 grants
2020-03-04 16:07:50.365 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:08:20.391 +03:00 [INF] Removing 0 grants
2020-03-04 16:08:20.399 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:08:50.423 +03:00 [INF] Removing 0 grants
2020-03-04 16:08:50.429 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:09:20.457 +03:00 [INF] Removing 0 grants
2020-03-04 16:09:20.464 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:09:50.483 +03:00 [INF] Removing 0 grants
2020-03-04 16:09:50.491 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:10:20.513 +03:00 [INF] Removing 0 grants
2020-03-04 16:10:20.521 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:10:50.564 +03:00 [INF] Removing 0 grants
2020-03-04 16:10:50.574 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:11:20.598 +03:00 [INF] Removing 0 grants
2020-03-04 16:11:20.604 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:11:50.629 +03:00 [INF] Removing 0 grants
2020-03-04 16:11:50.635 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:12:20.662 +03:00 [INF] Removing 0 grants
2020-03-04 16:12:20.668 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:12:50.701 +03:00 [INF] Removing 0 grants
2020-03-04 16:12:50.710 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:13:27.286 +03:00 [INF] Removing 0 grants
2020-03-04 16:13:27.330 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:13:57.347 +03:00 [INF] Removing 0 grants
2020-03-04 16:13:57.354 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:14:27.375 +03:00 [INF] Removing 0 grants
2020-03-04 16:14:27.382 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:14:57.401 +03:00 [INF] Removing 0 grants
2020-03-04 16:14:57.411 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:15:27.439 +03:00 [INF] Removing 0 grants
2020-03-04 16:15:27.445 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:15:57.476 +03:00 [INF] Removing 0 grants
2020-03-04 16:15:57.485 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:16:27.504 +03:00 [INF] Removing 0 grants
2020-03-04 16:16:27.516 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:16:57.531 +03:00 [INF] Removing 0 grants
2020-03-04 16:16:57.538 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:17:27.561 +03:00 [INF] Removing 0 grants
2020-03-04 16:17:27.568 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:17:57.593 +03:00 [INF] Removing 0 grants
2020-03-04 16:17:57.600 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:18:27.614 +03:00 [INF] Removing 0 grants
2020-03-04 16:18:27.621 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:18:57.643 +03:00 [INF] Removing 0 grants
2020-03-04 16:18:57.649 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:19:27.667 +03:00 [INF] Removing 0 grants
2020-03-04 16:19:27.673 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:19:57.698 +03:00 [INF] Removing 0 grants
2020-03-04 16:19:57.704 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:20:27.728 +03:00 [INF] Removing 0 grants
2020-03-04 16:20:27.739 +03:00 [INF] Removing 0 device flow codes
2020-03-04 16:20:57.758 +03:00 [INF] Removing 0 grants
2020-03-04 16:20:57.765 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:26:43.103 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 17:26:43.336 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 17:26:45.095 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-04 17:27:02.469 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 17:27:02.609 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 17:27:02.655 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 17:27:14.637 +03:00 [INF] Removing 0 grants
2020-03-04 17:27:14.653 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:27:44.705 +03:00 [INF] Removing 0 grants
2020-03-04 17:27:44.710 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:28:14.739 +03:00 [INF] Removing 0 grants
2020-03-04 17:28:14.753 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:28:46.695 +03:00 [INF] Removing 0 grants
2020-03-04 17:28:46.726 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:29:16.760 +03:00 [INF] Removing 0 grants
2020-03-04 17:29:16.763 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:29:46.786 +03:00 [INF] Removing 0 grants
2020-03-04 17:29:46.794 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:30:16.815 +03:00 [INF] Removing 0 grants
2020-03-04 17:30:16.828 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:30:46.842 +03:00 [INF] Removing 0 grants
2020-03-04 17:30:46.849 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:31:16.876 +03:00 [INF] Removing 0 grants
2020-03-04 17:31:16.884 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:31:46.907 +03:00 [INF] Removing 0 grants
2020-03-04 17:31:46.917 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:32:16.946 +03:00 [INF] Removing 0 grants
2020-03-04 17:32:16.955 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:32:46.991 +03:00 [INF] Removing 0 grants
2020-03-04 17:32:46.998 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:33:17.022 +03:00 [INF] Removing 0 grants
2020-03-04 17:33:17.027 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:33:47.051 +03:00 [INF] Removing 0 grants
2020-03-04 17:33:47.061 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:34:17.092 +03:00 [INF] Removing 0 grants
2020-03-04 17:34:17.105 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:34:47.126 +03:00 [INF] Removing 0 grants
2020-03-04 17:34:47.132 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:35:17.152 +03:00 [INF] Removing 0 grants
2020-03-04 17:35:17.160 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:35:47.183 +03:00 [INF] Removing 0 grants
2020-03-04 17:35:47.191 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:36:17.208 +03:00 [INF] Removing 0 grants
2020-03-04 17:36:17.217 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:36:47.264 +03:00 [INF] Removing 0 grants
2020-03-04 17:36:47.272 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:37:17.291 +03:00 [INF] Removing 0 grants
2020-03-04 17:37:17.299 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:37:47.311 +03:00 [INF] Removing 0 grants
2020-03-04 17:37:47.330 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:38:17.367 +03:00 [INF] Removing 0 grants
2020-03-04 17:38:17.374 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:38:47.391 +03:00 [INF] Removing 0 grants
2020-03-04 17:38:47.397 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:39:21.903 +03:00 [INF] Removing 0 grants
2020-03-04 17:39:21.907 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:39:51.931 +03:00 [INF] Removing 0 grants
2020-03-04 17:39:51.938 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:40:21.954 +03:00 [INF] Removing 0 grants
2020-03-04 17:40:21.959 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:40:40.819 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 17:40:40.872 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 17:40:40.874 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 17:40:51.995 +03:00 [INF] Removing 0 grants
2020-03-04 17:40:52.005 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:41:22.042 +03:00 [INF] Removing 0 grants
2020-03-04 17:41:22.049 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:41:52.075 +03:00 [INF] Removing 0 grants
2020-03-04 17:41:52.084 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:42:22.104 +03:00 [INF] Removing 0 grants
2020-03-04 17:42:22.112 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:42:52.135 +03:00 [INF] Removing 0 grants
2020-03-04 17:42:52.142 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:43:22.166 +03:00 [INF] Removing 0 grants
2020-03-04 17:43:22.173 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:43:52.195 +03:00 [INF] Removing 0 grants
2020-03-04 17:43:52.202 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:44:22.215 +03:00 [INF] Removing 0 grants
2020-03-04 17:44:22.222 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:44:27.954 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-04 17:44:27.995 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-04 17:44:27.998 +03:00 [INF] Showing login: User is not authenticated
2020-03-04 17:44:52.249 +03:00 [INF] Removing 0 grants
2020-03-04 17:44:52.257 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:45:22.278 +03:00 [INF] Removing 0 grants
2020-03-04 17:45:22.282 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:45:52.303 +03:00 [INF] Removing 0 grants
2020-03-04 17:45:52.309 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:46:36.964 +03:00 [INF] Removing 0 grants
2020-03-04 17:46:36.972 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:47:06.998 +03:00 [INF] Removing 0 grants
2020-03-04 17:47:07.006 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:47:37.021 +03:00 [INF] Removing 0 grants
2020-03-04 17:47:37.028 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:48:07.042 +03:00 [INF] Removing 0 grants
2020-03-04 17:48:07.049 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:48:37.068 +03:00 [INF] Removing 0 grants
2020-03-04 17:48:37.074 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:49:07.116 +03:00 [INF] Removing 0 grants
2020-03-04 17:49:07.123 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:49:37.715 +03:00 [INF] Removing 0 grants
2020-03-04 17:49:37.723 +03:00 [INF] Removing 0 device flow codes
2020-03-04 17:50:05.678 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-04 17:50:05.840 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-04 17:50:07.656 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-04 17:50:20.868 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'userName')
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at IdentityServer.Controllers.AccountController.Login(LoginInputModel model, String button) in C:\ILGIZ\Study\detree\auth\IdentityServer\Controllers\AccountController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-04 17:51:11.002 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'userName')
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at IdentityServer.Controllers.AccountController.Login(LoginInputModel model, String button) in C:\ILGIZ\Study\detree\auth\IdentityServer\Controllers\AccountController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-04 17:51:11.335 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'userName')
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at IdentityServer.Controllers.AccountController.Login(LoginInputModel model, String button) in C:\ILGIZ\Study\detree\auth\IdentityServer\Controllers\AccountController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-04 17:51:11.430 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'userName')
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at IdentityServer.Controllers.AccountController.Login(LoginInputModel model, String button) in C:\ILGIZ\Study\detree\auth\IdentityServer\Controllers\AccountController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-05 09:51:47.384 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 09:51:47.576 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 09:51:49.525 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 09:51:55.626 +03:00 [WRN] CorsPolicyService did not allow origin: null
2020-03-05 09:51:55.632 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 09:51:55.805 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 09:51:55.842 +03:00 [ERR] Invalid client configuration for client angular_spa: AllowedCorsOrigins contains invalid origin: http://localhost:5003/index.html
2020-03-05 09:51:55.873 +03:00 [ERR] Unknown client or not enabled: angular_spa
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"f9b9c9c7236d4dc0893cc115d836ca1a","nonce":"91278f3b46b44d81a88c55f93d7a0248"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 09:51:55.878 +03:00 [ERR] Request validation failed
2020-03-05 09:51:55.880 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"f9b9c9c7236d4dc0893cc115d836ca1a","nonce":"91278f3b46b44d81a88c55f93d7a0248"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 09:52:18.899 +03:00 [INF] Removing 0 grants
2020-03-05 09:52:18.911 +03:00 [INF] Removing 0 device flow codes
2020-03-05 09:52:48.985 +03:00 [INF] Removing 0 grants
2020-03-05 09:52:48.991 +03:00 [INF] Removing 0 device flow codes
2020-03-05 09:52:58.405 +03:00 [WRN] CorsPolicyService did not allow origin: null
2020-03-05 09:52:58.410 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 09:52:58.464 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 09:52:58.468 +03:00 [ERR] Invalid client configuration for client angular_spa: AllowedCorsOrigins contains invalid origin: http://localhost:5003/index.html
2020-03-05 09:52:58.471 +03:00 [ERR] Unknown client or not enabled: angular_spa
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"f9f69f428a974afaaa4408bdbee84b01","nonce":"01afde84f36f4acc84a67e8a86794450"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 09:52:58.473 +03:00 [ERR] Request validation failed
2020-03-05 09:52:58.476 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"f9f69f428a974afaaa4408bdbee84b01","nonce":"01afde84f36f4acc84a67e8a86794450"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 09:53:19.019 +03:00 [INF] Removing 0 grants
2020-03-05 09:53:19.025 +03:00 [INF] Removing 0 device flow codes
2020-03-05 09:53:49.044 +03:00 [INF] Removing 0 grants
2020-03-05 09:53:49.052 +03:00 [INF] Removing 0 device flow codes
2020-03-05 09:54:16.255 +03:00 [WRN] CorsPolicyService did not allow origin: null
2020-03-05 09:54:16.265 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 09:54:16.316 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 09:54:16.319 +03:00 [ERR] Invalid client configuration for client angular_spa: AllowedCorsOrigins contains invalid origin: http://localhost:5003/index.html
2020-03-05 09:54:16.328 +03:00 [ERR] Unknown client or not enabled: angular_spa
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"9afff21e082e4895b91f3dd0cc382dbd","nonce":"b7633e8c0d024f06af33cee0d01d6c49"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 09:54:16.330 +03:00 [ERR] Request validation failed
2020-03-05 09:54:16.332 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"9afff21e082e4895b91f3dd0cc382dbd","nonce":"b7633e8c0d024f06af33cee0d01d6c49"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 09:54:19.075 +03:00 [INF] Removing 0 grants
2020-03-05 09:54:19.080 +03:00 [INF] Removing 0 device flow codes
2020-03-05 09:54:49.107 +03:00 [INF] Removing 0 grants
2020-03-05 09:54:49.113 +03:00 [INF] Removing 0 device flow codes
2020-03-05 09:55:19.126 +03:00 [INF] Removing 0 grants
2020-03-05 09:55:19.134 +03:00 [INF] Removing 0 device flow codes
2020-03-05 09:56:41.469 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 09:56:41.631 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 09:56:43.162 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 09:57:08.818 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 09:57:12.761 +03:00 [INF] Removing 0 grants
2020-03-05 09:57:12.773 +03:00 [INF] Removing 0 device flow codes
2020-03-05 09:57:23.921 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 09:57:23.924 +03:00 [WRN] Invalid HTTP request for token endpoint
2020-03-05 09:57:28.208 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 09:57:28.246 +03:00 [ERR] client_id is missing or too long
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 09:57:28.251 +03:00 [ERR] Request validation failed
2020-03-05 09:57:28.254 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 09:57:35.675 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-03-05 09:57:42.825 +03:00 [INF] Removing 0 grants
2020-03-05 09:57:42.829 +03:00 [INF] Removing 0 device flow codes
2020-03-05 09:58:12.852 +03:00 [INF] Removing 0 grants
2020-03-05 09:58:12.856 +03:00 [INF] Removing 0 device flow codes
2020-03-05 09:58:35.605 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2020-03-05 09:58:35.626 +03:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{},"$type":"EndSessionRequestValidationLog"}
2020-03-05 09:58:35.801 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Value cannot be null or empty. (Parameter 'url')
   at Microsoft.AspNetCore.Mvc.ControllerBase.Redirect(String url)
   at IdentityServer.Controllers.AccountController.Logout(String logoutId) in C:\ILGIZ\Study\detree\auth\IdentityServer\Controllers\AccountController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-05 09:58:42.871 +03:00 [INF] Removing 0 grants
2020-03-05 09:58:42.878 +03:00 [INF] Removing 0 device flow codes
2020-03-05 09:58:42.981 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-03-05 09:58:50.119 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 09:58:50.122 +03:00 [ERR] client_id is missing or too long
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 09:58:50.124 +03:00 [ERR] Request validation failed
2020-03-05 09:58:50.126 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 09:59:12.913 +03:00 [INF] Removing 0 grants
2020-03-05 09:59:12.918 +03:00 [INF] Removing 0 device flow codes
2020-03-05 09:59:38.451 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-03-05 09:59:38.457 +03:00 [ERR] No access token found.
2020-03-05 09:59:42.932 +03:00 [INF] Removing 0 grants
2020-03-05 09:59:42.938 +03:00 [INF] Removing 0 device flow codes
2020-03-05 09:59:44.805 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-05 09:59:49.153 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenRevocationEndpoint for /connect/revocation
2020-03-05 09:59:49.157 +03:00 [WRN] Invalid HTTP method
2020-03-05 10:00:12.957 +03:00 [INF] Removing 0 grants
2020-03-05 10:00:12.962 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:00:42.983 +03:00 [INF] Removing 0 grants
2020-03-05 10:00:42.991 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:01:13.012 +03:00 [INF] Removing 0 grants
2020-03-05 10:01:13.020 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:01:39.170 +03:00 [WRN] CorsPolicyService did not allow origin: null
2020-03-05 10:01:39.173 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 10:01:39.233 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 10:01:39.242 +03:00 [ERR] Invalid client configuration for client angular_spa: AllowedCorsOrigins contains invalid origin: http://localhost:5003/index.html
2020-03-05 10:01:39.245 +03:00 [ERR] Unknown client or not enabled: angular_spa
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"fcab83a827f04ad1bf4a856c49b1ac87","nonce":"b4e061600a984411ad7aef24726ce811"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:01:39.247 +03:00 [ERR] Request validation failed
2020-03-05 10:01:39.249 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"fcab83a827f04ad1bf4a856c49b1ac87","nonce":"b4e061600a984411ad7aef24726ce811"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:01:43.044 +03:00 [INF] Removing 0 grants
2020-03-05 10:01:43.048 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:02:01.872 +03:00 [WRN] CorsPolicyService did not allow origin: null
2020-03-05 10:02:01.877 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 10:02:01.953 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 10:02:01.955 +03:00 [ERR] Invalid client configuration for client angular_spa: AllowedCorsOrigins contains invalid origin: http://localhost:5003/index.html
2020-03-05 10:02:01.958 +03:00 [ERR] Unknown client or not enabled: angular_spa
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"3dcca323c82d4de9a04da3170bfd7cca","nonce":"db11c98b47694b6f853676f60d99cb8a"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:02:01.960 +03:00 [ERR] Request validation failed
2020-03-05 10:02:01.963 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"3dcca323c82d4de9a04da3170bfd7cca","nonce":"db11c98b47694b6f853676f60d99cb8a"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:02:13.081 +03:00 [INF] Removing 0 grants
2020-03-05 10:02:13.085 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:02:43.109 +03:00 [INF] Removing 0 grants
2020-03-05 10:02:43.116 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:03:13.136 +03:00 [INF] Removing 0 grants
2020-03-05 10:03:13.150 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:03:43.166 +03:00 [INF] Removing 0 grants
2020-03-05 10:03:43.176 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:04:13.187 +03:00 [INF] Removing 0 grants
2020-03-05 10:04:13.195 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:04:21.893 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 10:04:21.895 +03:00 [ERR] client_id is missing or too long
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:04:21.897 +03:00 [ERR] Request validation failed
2020-03-05 10:04:21.899 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:04:43.218 +03:00 [INF] Removing 0 grants
2020-03-05 10:04:43.222 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:05:13.238 +03:00 [INF] Removing 0 grants
2020-03-05 10:05:13.245 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:05:43.267 +03:00 [INF] Removing 0 grants
2020-03-05 10:05:43.277 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:06:13.302 +03:00 [INF] Removing 0 grants
2020-03-05 10:06:13.309 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:06:43.336 +03:00 [INF] Removing 0 grants
2020-03-05 10:06:43.350 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:06:47.405 +03:00 [WRN] CorsPolicyService did not allow origin: null
2020-03-05 10:06:47.408 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 10:06:47.465 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 10:06:47.470 +03:00 [ERR] Invalid client configuration for client angular_spa: AllowedCorsOrigins contains invalid origin: http://localhost:5003/index.html
2020-03-05 10:06:47.475 +03:00 [ERR] Unknown client or not enabled: angular_spa
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"5fe1f0c08786424abbdb3123d35b400f","nonce":"5e8bcbea8a714713a3f46bc65d059195"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:06:47.477 +03:00 [ERR] Request validation failed
2020-03-05 10:06:47.479 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"5fe1f0c08786424abbdb3123d35b400f","nonce":"5e8bcbea8a714713a3f46bc65d059195"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:07:13.363 +03:00 [INF] Removing 0 grants
2020-03-05 10:07:13.372 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:07:43.389 +03:00 [INF] Removing 0 grants
2020-03-05 10:07:43.396 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:08:13.408 +03:00 [INF] Removing 0 grants
2020-03-05 10:08:13.416 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:08:43.432 +03:00 [INF] Removing 0 grants
2020-03-05 10:08:43.439 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:09:13.467 +03:00 [INF] Removing 0 grants
2020-03-05 10:09:13.474 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:09:43.504 +03:00 [INF] Removing 0 grants
2020-03-05 10:09:43.514 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:10:13.531 +03:00 [INF] Removing 0 grants
2020-03-05 10:10:13.537 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:10:43.549 +03:00 [INF] Removing 0 grants
2020-03-05 10:10:43.555 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:11:03.327 +03:00 [WRN] CorsPolicyService did not allow origin: null
2020-03-05 10:11:03.329 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 10:11:03.392 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 10:11:03.394 +03:00 [ERR] Invalid client configuration for client angular_spa: AllowedCorsOrigins contains invalid origin: http://localhost:5003/index.html
2020-03-05 10:11:03.396 +03:00 [ERR] Unknown client or not enabled: angular_spa
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"e63df6ae8adc4aa8926343d1a9586b5b","nonce":"4ddbe24594244f109e69e6ce75c2c88c"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:11:03.398 +03:00 [ERR] Request validation failed
2020-03-05 10:11:03.400 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:5003/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"e63df6ae8adc4aa8926343d1a9586b5b","nonce":"4ddbe24594244f109e69e6ce75c2c88c"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:11:13.595 +03:00 [INF] Removing 0 grants
2020-03-05 10:11:13.598 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:11:18.652 +03:00 [WRN] CorsPolicyService did not allow origin: null
2020-03-05 10:11:18.665 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 10:11:18.711 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 10:11:18.714 +03:00 [ERR] Invalid client configuration for client angular_spa: AllowedCorsOrigins contains invalid origin: http://localhost:5003/index.html
2020-03-05 10:11:18.717 +03:00 [ERR] Unknown client or not enabled: angular_spa
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"1070acc7ecfb4f36a516114e8073cf0a","nonce":"5e48600c7a6b424597aca89b8d704318"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:11:18.719 +03:00 [ERR] Request validation failed
2020-03-05 10:11:18.722 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/callback.html","response_type":"id_token token","scope":"openid profile email api.read","state":"1070acc7ecfb4f36a516114e8073cf0a","nonce":"5e48600c7a6b424597aca89b8d704318"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:11:43.621 +03:00 [INF] Removing 0 grants
2020-03-05 10:11:43.633 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:12:13.667 +03:00 [INF] Removing 0 grants
2020-03-05 10:12:13.673 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:12:43.704 +03:00 [INF] Removing 0 grants
2020-03-05 10:12:43.707 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:13:13.730 +03:00 [INF] Removing 0 grants
2020-03-05 10:13:13.751 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:13:43.788 +03:00 [INF] Removing 0 grants
2020-03-05 10:13:43.793 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:14:13.807 +03:00 [INF] Removing 0 grants
2020-03-05 10:14:13.811 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:14:43.832 +03:00 [INF] Removing 0 grants
2020-03-05 10:14:43.845 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:15:13.888 +03:00 [INF] Removing 0 grants
2020-03-05 10:15:13.897 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:15:43.919 +03:00 [INF] Removing 0 grants
2020-03-05 10:15:43.922 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:16:13.951 +03:00 [INF] Removing 0 grants
2020-03-05 10:16:13.957 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:16:43.998 +03:00 [INF] Removing 0 grants
2020-03-05 10:16:44.009 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:17:14.033 +03:00 [INF] Removing 0 grants
2020-03-05 10:17:14.040 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:17:44.059 +03:00 [INF] Removing 0 grants
2020-03-05 10:17:44.080 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:18:14.103 +03:00 [INF] Removing 0 grants
2020-03-05 10:18:14.110 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:18:44.138 +03:00 [INF] Removing 0 grants
2020-03-05 10:18:44.145 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:19:14.165 +03:00 [INF] Removing 0 grants
2020-03-05 10:19:14.168 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:19:20.339 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'userName')
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at IdentityServer.Controllers.AccountController.Login(LoginInputModel model, String button) in C:\ILGIZ\Study\detree\auth\IdentityServer\Controllers\AccountController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-05 10:19:44.180 +03:00 [INF] Removing 0 grants
2020-03-05 10:19:44.189 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:20:14.213 +03:00 [INF] Removing 0 grants
2020-03-05 10:20:14.220 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:20:44.230 +03:00 [INF] Removing 0 grants
2020-03-05 10:20:44.243 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:21:14.262 +03:00 [INF] Removing 0 grants
2020-03-05 10:21:14.280 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:21:44.294 +03:00 [INF] Removing 0 grants
2020-03-05 10:21:44.300 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:22:14.323 +03:00 [INF] Removing 0 grants
2020-03-05 10:22:14.340 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:22:44.365 +03:00 [INF] Removing 0 grants
2020-03-05 10:22:44.374 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:23:14.388 +03:00 [INF] Removing 0 grants
2020-03-05 10:23:14.395 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:23:38.812 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'userName')
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at IdentityServer.Controllers.AccountController.Login(LoginInputModel model, String button) in C:\ILGIZ\Study\detree\auth\IdentityServer\Controllers\AccountController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-05 10:23:44.415 +03:00 [INF] Removing 0 grants
2020-03-05 10:23:44.418 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:24:14.440 +03:00 [INF] Removing 0 grants
2020-03-05 10:24:14.446 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:24:44.433 +03:00 [ERR] Invalid client configuration for client angular_spa: AllowedCorsOrigins contains invalid origin: http://localhost:5003/index.html
2020-03-05 10:24:44.435 +03:00 [ERR] Unknown client or not enabled: angular_spa
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"cb483f75ec074dc8975173083ff9c736","nonce":"721d3c5760534bd19f08a5eb5caef3f7"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:24:44.472 +03:00 [INF] Removing 0 grants
2020-03-05 10:24:44.476 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:25:14.503 +03:00 [INF] Removing 0 grants
2020-03-05 10:25:14.511 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:25:44.535 +03:00 [INF] Removing 0 grants
2020-03-05 10:25:44.541 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:26:14.572 +03:00 [INF] Removing 0 grants
2020-03-05 10:26:14.583 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:26:24.201 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 10:26:24.204 +03:00 [ERR] client_id is missing or too long
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:26:24.206 +03:00 [ERR] Request validation failed
2020-03-05 10:26:24.208 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:26:44.607 +03:00 [INF] Removing 0 grants
2020-03-05 10:26:44.611 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:27:14.638 +03:00 [INF] Removing 0 grants
2020-03-05 10:27:14.644 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:27:44.659 +03:00 [INF] Removing 0 grants
2020-03-05 10:27:44.668 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:28:14.689 +03:00 [INF] Removing 0 grants
2020-03-05 10:28:14.694 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:28:44.713 +03:00 [INF] Removing 0 grants
2020-03-05 10:28:44.719 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:29:14.742 +03:00 [INF] Removing 0 grants
2020-03-05 10:29:14.749 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:29:15.086 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 10:29:15.095 +03:00 [ERR] client_id is missing or too long
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:29:15.098 +03:00 [ERR] Request validation failed
2020-03-05 10:29:15.100 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:29:34.138 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 10:29:34.140 +03:00 [ERR] client_id is missing or too long
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:29:34.142 +03:00 [ERR] Request validation failed
2020-03-05 10:29:34.145 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:29:44.764 +03:00 [INF] Removing 0 grants
2020-03-05 10:29:44.773 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:30:14.795 +03:00 [INF] Removing 0 grants
2020-03-05 10:30:14.800 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:32:06.495 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 10:32:06.655 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 10:32:08.227 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 10:32:34.439 +03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:4200
2020-03-05 10:32:34.445 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 10:32:34.563 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 10:32:34.580 +03:00 [ERR] Invalid client configuration for client angular_spa: AllowedCorsOrigins contains invalid origin: http://localhost:5003/index.html
2020-03-05 10:32:34.609 +03:00 [ERR] Unknown client or not enabled: angular_spa
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"567521de953140cc8468f44ef0d345d0","nonce":"320d05b13819464cab74f51ea6465320"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:32:34.615 +03:00 [ERR] Request validation failed
2020-03-05 10:32:34.618 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"567521de953140cc8468f44ef0d345d0","nonce":"320d05b13819464cab74f51ea6465320"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:32:37.805 +03:00 [INF] Removing 0 grants
2020-03-05 10:32:37.821 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:32:44.505 +03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:4200
2020-03-05 10:32:44.509 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 10:32:44.557 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 10:32:44.559 +03:00 [ERR] Invalid client configuration for client angular_spa: AllowedCorsOrigins contains invalid origin: http://localhost:5003/index.html
2020-03-05 10:32:44.562 +03:00 [ERR] Unknown client or not enabled: angular_spa
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"62f51979c2554b31b2490ffda41059ac","nonce":"99d7bd3ec6964db8883052aed55e2a94"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:32:44.576 +03:00 [ERR] Request validation failed
2020-03-05 10:32:44.578 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"62f51979c2554b31b2490ffda41059ac","nonce":"99d7bd3ec6964db8883052aed55e2a94"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:36:28.027 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 10:36:28.199 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 10:36:29.983 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 10:36:36.148 +03:00 [WRN] CorsPolicyService did not allow origin: null
2020-03-05 10:36:36.154 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 10:36:36.308 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 10:36:36.342 +03:00 [ERR] Invalid scope: api1
2020-03-05 10:36:36.345 +03:00 [ERR] Request validation failed
2020-03-05 10:36:36.369 +03:00 [INF] {"ClientId":"js","ClientName":"JavaScript Client","RedirectUri":"http://localhost:5003/callback.html","AllowedRedirectUris":["http://localhost:5003/callback.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile api1","State":"5ee2ce26374446e8885070e9468ea293","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"5ee2ce26374446e8885070e9468ea293","code_challenge":"W4QoN9Qz-xm6_GlHbcMkPDsT6FxFl1vinCu3sIRJ71I","code_challenge_method":"S256","response_mode":"query"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 10:36:59.327 +03:00 [INF] Removing 0 grants
2020-03-05 10:36:59.349 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:37:32.905 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 10:37:33.060 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 10:37:33.528 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 10:37:33.568 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 10:37:33.774 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 10:37:33.826 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 10:58:08.349 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 10:58:08.489 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 10:58:10.021 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 10:58:26.099 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 10:58:26.212 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 10:58:26.254 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 10:58:39.548 +03:00 [INF] Removing 0 grants
2020-03-05 10:58:39.562 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:59:09.592 +03:00 [INF] Removing 0 grants
2020-03-05 10:59:09.596 +03:00 [INF] Removing 0 device flow codes
2020-03-05 10:59:39.614 +03:00 [INF] Removing 0 grants
2020-03-05 10:59:39.634 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:00:04.139 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenRevocationEndpoint for /connect/revocation
2020-03-05 11:00:04.143 +03:00 [WRN] Invalid HTTP method
2020-03-05 11:00:09.672 +03:00 [INF] Removing 0 grants
2020-03-05 11:00:09.680 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:00:12.359 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-03-05 11:00:12.364 +03:00 [ERR] No access token found.
2020-03-05 11:00:16.556 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-03-05 11:00:16.557 +03:00 [ERR] No access token found.
2020-03-05 11:00:39.699 +03:00 [INF] Removing 0 grants
2020-03-05 11:00:39.706 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:00:52.511 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-03-05 11:00:52.515 +03:00 [ERR] No access token found.
2020-03-05 11:01:09.734 +03:00 [INF] Removing 0 grants
2020-03-05 11:01:09.749 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:01:30.418 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-03-05 11:01:30.421 +03:00 [ERR] No access token found.
2020-03-05 11:01:39.780 +03:00 [INF] Removing 0 grants
2020-03-05 11:01:39.785 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:01:42.451 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-03-05 11:01:42.454 +03:00 [ERR] No access token found.
2020-03-05 11:02:09.810 +03:00 [INF] Removing 0 grants
2020-03-05 11:02:09.825 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:02:30.295 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-03-05 11:02:30.297 +03:00 [ERR] No access token found.
2020-03-05 11:02:39.857 +03:00 [INF] Removing 0 grants
2020-03-05 11:02:39.864 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:02:56.559 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-03-05 11:02:56.562 +03:00 [ERR] No access token found.
2020-03-05 11:03:09.891 +03:00 [INF] Removing 0 grants
2020-03-05 11:03:09.895 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:03:39.922 +03:00 [INF] Removing 0 grants
2020-03-05 11:03:39.926 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:03:42.058 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 11:03:44.890 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-03-05 11:03:44.892 +03:00 [ERR] No access token found.
2020-03-05 11:03:52.413 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 11:03:52.437 +03:00 [ERR] client_id is missing or too long
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:03:52.442 +03:00 [ERR] Request validation failed
2020-03-05 11:03:52.445 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:03:58.371 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-03-05 11:04:07.893 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-03-05 11:04:09.954 +03:00 [INF] Removing 0 grants
2020-03-05 11:04:09.959 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:04:14.536 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:04:14.539 +03:00 [WRN] Invalid HTTP request for token endpoint
2020-03-05 11:04:27.198 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DeviceAuthorizationEndpoint for /connect/deviceauthorization
2020-03-05 11:04:27.209 +03:00 [WRN] Invalid HTTP request for device authorize endpoint
2020-03-05 11:04:27.212 +03:00 [ERR] Device authorization error: invalid_request:invalid_request
2020-03-05 11:04:39.998 +03:00 [INF] Removing 0 grants
2020-03-05 11:04:40.005 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:05:10.037 +03:00 [INF] Removing 0 grants
2020-03-05 11:05:10.044 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:05:28.623 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:05:28.626 +03:00 [WRN] Invalid HTTP request for token endpoint
2020-03-05 11:05:40.072 +03:00 [INF] Removing 0 grants
2020-03-05 11:05:40.082 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:06:10.108 +03:00 [INF] Removing 0 grants
2020-03-05 11:06:10.112 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:06:40.155 +03:00 [INF] Removing 0 grants
2020-03-05 11:06:40.163 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:07:10.186 +03:00 [INF] Removing 0 grants
2020-03-05 11:07:10.193 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:07:40.217 +03:00 [INF] Removing 0 grants
2020-03-05 11:07:40.221 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:08:10.242 +03:00 [INF] Removing 0 grants
2020-03-05 11:08:10.248 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:08:40.260 +03:00 [INF] Removing 0 grants
2020-03-05 11:08:40.266 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:08:52.310 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:08:52.327 +03:00 [ERR] Grant type is missing, {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type ":"GrantTypes.Implicit","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:08:59.395 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:08:59.399 +03:00 [ERR] Grant type is missing, {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type ":"Implicit","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:09:10.282 +03:00 [INF] Removing 0 grants
2020-03-05 11:09:10.290 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:09:12.453 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:09:12.458 +03:00 [ERR] Grant type is missing, {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type ":"password","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:09:40.321 +03:00 [INF] Removing 0 grants
2020-03-05 11:09:40.328 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:10:08.838 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:10:08.841 +03:00 [ERR] Grant type is missing, {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com123456789Ilgiz!","grant_type ":"123456789Ilgiz!","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:10:10.358 +03:00 [INF] Removing 0 grants
2020-03-05 11:10:10.362 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:10:36.280 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:10:36.283 +03:00 [ERR] Grant type is missing, {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com123456789Ilgiz!","grant_type ":"123456789Ilgiz!","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:10:40.386 +03:00 [INF] Removing 0 grants
2020-03-05 11:10:40.389 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:11:10.405 +03:00 [INF] Removing 0 grants
2020-03-05 11:11:10.412 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:11:13.521 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:11:13.525 +03:00 [ERR] Grant type is missing, {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com123456789Ilgiz!","grant_type ":"password","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:11:17.826 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:11:17.829 +03:00 [ERR] Grant type is missing, {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com123456789Ilgiz!","grant_type ":"Password","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:11:40.440 +03:00 [INF] Removing 0 grants
2020-03-05 11:11:40.446 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:12:10.462 +03:00 [INF] Removing 0 grants
2020-03-05 11:12:10.469 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:12:40.496 +03:00 [INF] Removing 0 grants
2020-03-05 11:12:40.504 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:13:10.540 +03:00 [INF] Removing 0 grants
2020-03-05 11:13:10.547 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:13:19.238 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:13:19.242 +03:00 [ERR] Grant type is missing, {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type ":"password&username=tim.ilgiz@gmail.com&password=123456789Ilgiz!","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:13:40.557 +03:00 [INF] Removing 0 grants
2020-03-05 11:13:40.563 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:14:10.574 +03:00 [INF] Removing 0 grants
2020-03-05 11:14:10.580 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:14:40.605 +03:00 [INF] Removing 0 grants
2020-03-05 11:14:40.608 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:14:56.927 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:14:56.930 +03:00 [ERR] Grant type is missing, {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type ":"password","client_id":"angular_spa","client_secret":"***REDACTED***","username":"tim.ilgiz@gmail.com","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:15:10.626 +03:00 [INF] Removing 0 grants
2020-03-05 11:15:10.631 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:15:15.960 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:15:15.963 +03:00 [ERR] Grant type is missing, {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type ":"123456789Ilgiz!","client_id":"angular_spa","client_secret":"***REDACTED***","username":"tim.ilgiz@gmail.com","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:15:26.695 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:15:26.698 +03:00 [ERR] Grant type is missing, {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type ":"123456789Ilgiz!","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:15:40.674 +03:00 [INF] Removing 0 grants
2020-03-05 11:15:40.682 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:16:10.715 +03:00 [INF] Removing 0 grants
2020-03-05 11:16:10.721 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:16:21.266 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:16:21.268 +03:00 [ERR] Grant type is missing, {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type ":"password","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:16:40.743 +03:00 [INF] Removing 0 grants
2020-03-05 11:16:40.750 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:17:10.761 +03:00 [INF] Removing 0 grants
2020-03-05 11:17:10.767 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:17:40.791 +03:00 [INF] Removing 0 grants
2020-03-05 11:17:40.797 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:17:53.911 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:17:53.913 +03:00 [WRN] Invalid HTTP request for token endpoint
2020-03-05 11:18:04.004 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:18:04.006 +03:00 [WRN] Invalid HTTP request for token endpoint
2020-03-05 11:18:10.840 +03:00 [INF] Removing 0 grants
2020-03-05 11:18:10.843 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:18:37.245 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:18:37.246 +03:00 [WRN] Invalid HTTP request for token endpoint
2020-03-05 11:18:40.872 +03:00 [INF] Removing 0 grants
2020-03-05 11:18:40.877 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:19:10.902 +03:00 [INF] Removing 0 grants
2020-03-05 11:19:10.906 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:19:40.921 +03:00 [INF] Removing 0 grants
2020-03-05 11:19:40.928 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:19:46.987 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:19:46.994 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type":"password","client_id":"angular_spa"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:20:10.952 +03:00 [INF] Removing 0 grants
2020-03-05 11:20:10.958 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:20:38.182 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:20:38.185 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type":"password","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:20:40.983 +03:00 [INF] Removing 0 grants
2020-03-05 11:20:40.987 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:21:03.160 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 11:21:03.218 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 11:21:03.221 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 11:21:11.009 +03:00 [INF] Removing 0 grants
2020-03-05 11:21:11.013 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:21:41.023 +03:00 [INF] Removing 0 grants
2020-03-05 11:21:41.030 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:22:14.087 +03:00 [INF] Removing 0 grants
2020-03-05 11:22:14.093 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:22:44.107 +03:00 [INF] Removing 0 grants
2020-03-05 11:22:44.114 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:23:14.127 +03:00 [INF] Removing 0 grants
2020-03-05 11:23:14.133 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:23:44.152 +03:00 [INF] Removing 0 grants
2020-03-05 11:23:44.169 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:24:18.862 +03:00 [INF] Removing 0 grants
2020-03-05 11:24:18.870 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:24:48.892 +03:00 [INF] Removing 0 grants
2020-03-05 11:24:48.899 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:25:18.920 +03:00 [INF] Removing 0 grants
2020-03-05 11:25:18.925 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:25:48.954 +03:00 [INF] Removing 0 grants
2020-03-05 11:25:48.960 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:26:18.980 +03:00 [INF] Removing 0 grants
2020-03-05 11:26:18.989 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:26:52.147 +03:00 [INF] Removing 0 grants
2020-03-05 11:26:52.151 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:27:22.172 +03:00 [INF] Removing 0 grants
2020-03-05 11:27:22.188 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:27:52.197 +03:00 [INF] Removing 0 grants
2020-03-05 11:27:52.204 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:28:22.227 +03:00 [INF] Removing 0 grants
2020-03-05 11:28:22.233 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:28:52.268 +03:00 [INF] Removing 0 grants
2020-03-05 11:28:52.272 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:28:55.477 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:28:55.480 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type":"password","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:29:22.287 +03:00 [INF] Removing 0 grants
2020-03-05 11:29:22.290 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:29:52.328 +03:00 [INF] Removing 0 grants
2020-03-05 11:29:52.334 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:30:19.790 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:30:19.794 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type":"password","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:30:22.353 +03:00 [INF] Removing 0 grants
2020-03-05 11:30:22.356 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:30:52.398 +03:00 [INF] Removing 0 grants
2020-03-05 11:30:52.404 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:31:18.906 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 11:31:19.070 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 11:31:20.754 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 11:31:34.896 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 11:31:34.992 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 11:31:35.033 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 11:31:50.149 +03:00 [INF] Removing 0 grants
2020-03-05 11:31:50.162 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:32:20.283 +03:00 [INF] Removing 0 grants
2020-03-05 11:32:20.291 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:32:47.101 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:32:47.139 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type":"password","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:32:50.319 +03:00 [INF] Removing 0 grants
2020-03-05 11:32:50.325 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:33:20.342 +03:00 [INF] Removing 0 grants
2020-03-05 11:33:20.354 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:33:50.381 +03:00 [INF] Removing 0 grants
2020-03-05 11:33:50.393 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:34:15.418 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:34:15.424 +03:00 [ERR] No validator is registered for the grant type{"grantType":"implicit"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"implicit","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type":"implicit","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:34:20.415 +03:00 [INF] Removing 0 grants
2020-03-05 11:34:20.422 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:34:22.201 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:34:22.206 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type":"password","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:34:50.444 +03:00 [INF] Removing 0 grants
2020-03-05 11:34:50.457 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:35:20.483 +03:00 [INF] Removing 0 grants
2020-03-05 11:35:20.497 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:35:50.514 +03:00 [INF] Removing 0 grants
2020-03-05 11:35:50.523 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:36:20.546 +03:00 [INF] Removing 0 grants
2020-03-05 11:36:20.554 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:36:50.574 +03:00 [INF] Removing 0 grants
2020-03-05 11:36:50.585 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:37:20.598 +03:00 [INF] Removing 0 grants
2020-03-05 11:37:20.605 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:37:50.619 +03:00 [INF] Removing 0 grants
2020-03-05 11:37:50.628 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:38:06.253 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:38:06.257 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type":"password","client_id":"angular_spa","client_secret":"***REDACTED***","Scopes":""},"$type":"TokenRequestValidationLog"}
2020-03-05 11:38:20.655 +03:00 [INF] Removing 0 grants
2020-03-05 11:38:20.659 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:38:50.677 +03:00 [INF] Removing 0 grants
2020-03-05 11:38:50.685 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:39:20.706 +03:00 [INF] Removing 0 grants
2020-03-05 11:39:20.715 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:39:50.732 +03:00 [INF] Removing 0 grants
2020-03-05 11:39:50.741 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:40:20.759 +03:00 [INF] Removing 0 grants
2020-03-05 11:40:20.766 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:40:50.794 +03:00 [INF] Removing 0 grants
2020-03-05 11:40:50.809 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:41:20.821 +03:00 [INF] Removing 0 grants
2020-03-05 11:41:20.846 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:41:50.857 +03:00 [INF] Removing 0 grants
2020-03-05 11:41:50.872 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:42:20.887 +03:00 [INF] Removing 0 grants
2020-03-05 11:42:20.894 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:42:50.915 +03:00 [INF] Removing 0 grants
2020-03-05 11:42:50.922 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:43:20.941 +03:00 [INF] Removing 0 grants
2020-03-05 11:43:20.948 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:43:50.968 +03:00 [INF] Removing 0 grants
2020-03-05 11:43:50.986 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:44:21.022 +03:00 [INF] Removing 0 grants
2020-03-05 11:44:21.029 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:44:51.043 +03:00 [INF] Removing 0 grants
2020-03-05 11:44:51.049 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:45:21.072 +03:00 [INF] Removing 0 grants
2020-03-05 11:45:21.079 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:45:51.094 +03:00 [INF] Removing 0 grants
2020-03-05 11:45:51.113 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:46:21.136 +03:00 [INF] Removing 0 grants
2020-03-05 11:46:21.144 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:46:51.157 +03:00 [INF] Removing 0 grants
2020-03-05 11:46:51.164 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:47:21.183 +03:00 [INF] Removing 0 grants
2020-03-05 11:47:21.189 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:47:51.219 +03:00 [INF] Removing 0 grants
2020-03-05 11:47:51.226 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:48:21.243 +03:00 [INF] Removing 0 grants
2020-03-05 11:48:21.250 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:48:51.264 +03:00 [INF] Removing 0 grants
2020-03-05 11:48:51.273 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:48:55.282 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:48:55.288 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type":"password","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:49:21.296 +03:00 [INF] Removing 0 grants
2020-03-05 11:49:21.312 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:49:51.330 +03:00 [INF] Removing 0 grants
2020-03-05 11:49:51.338 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:50:21.356 +03:00 [INF] Removing 0 grants
2020-03-05 11:50:21.363 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:50:51.394 +03:00 [INF] Removing 0 grants
2020-03-05 11:50:51.401 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:51:21.422 +03:00 [INF] Removing 0 grants
2020-03-05 11:51:21.436 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:51:51.464 +03:00 [INF] Removing 0 grants
2020-03-05 11:51:51.472 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:52:12.207 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 11:52:12.211 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type":"password","client_id":"angular_spa"},"$type":"TokenRequestValidationLog"}
2020-03-05 11:52:21.486 +03:00 [INF] Removing 0 grants
2020-03-05 11:52:21.490 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:52:51.509 +03:00 [INF] Removing 0 grants
2020-03-05 11:52:51.517 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:53:21.528 +03:00 [INF] Removing 0 grants
2020-03-05 11:53:21.535 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:53:51.560 +03:00 [INF] Removing 0 grants
2020-03-05 11:53:51.571 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:54:21.591 +03:00 [INF] Removing 0 grants
2020-03-05 11:54:21.598 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:54:51.609 +03:00 [INF] Removing 0 grants
2020-03-05 11:54:51.616 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:55:16.941 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 11:55:16.959 +03:00 [ERR] Unknown client or not enabled: angular_spa

{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa\r\n","redirect_uri":"http://localhost:5230/signin-oidc\r\n","response_type":"id_token\r\n","scope":"openid profile email api.read\r\n","nonce":"63653346343504\r\n","state":"CfDJAJDR\r\n","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:55:16.963 +03:00 [ERR] Request validation failed
2020-03-05 11:55:16.967 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa\r\n","redirect_uri":"http://localhost:5230/signin-oidc\r\n","response_type":"id_token\r\n","scope":"openid profile email api.read\r\n","nonce":"63653346343504\r\n","state":"CfDJAJDR\r\n","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:55:21.634 +03:00 [INF] Removing 0 grants
2020-03-05 11:55:21.641 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:55:24.892 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 11:55:24.896 +03:00 [ERR] Unknown client or not enabled: angular_spa

{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa\r\n","redirect_uri":"http://localhost:5230/signin-oidc\r\n","response_type":"id_token\r\n","scope":"openid profile email api.read\r\n","nonce":"63653346343504\r\n","state":"CfDJAJDR\r\n","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:55:24.899 +03:00 [ERR] Request validation failed
2020-03-05 11:55:24.911 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa\r\n","redirect_uri":"http://localhost:5230/signin-oidc\r\n","response_type":"id_token\r\n","scope":"openid profile email api.read\r\n","nonce":"63653346343504\r\n","state":"CfDJAJDR\r\n","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:55:51.658 +03:00 [INF] Removing 0 grants
2020-03-05 11:55:51.665 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:56:21.701 +03:00 [INF] Removing 0 grants
2020-03-05 11:56:21.708 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:56:51.728 +03:00 [INF] Removing 0 grants
2020-03-05 11:56:51.735 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:57:10.713 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 11:57:10.717 +03:00 [ERR] Unknown client or not enabled: angular_spa

{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa\r\n","redirect_uri":"http://localhost:5230/signin-oidc\r\n","response_type":"id_token\r\n","scope":"openid profile email api.read\r\n","nonce":"63653346343504\r\n","state":"CfDJAJDR\r\n","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:57:10.720 +03:00 [ERR] Request validation failed
2020-03-05 11:57:10.724 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa\r\n","redirect_uri":"http://localhost:5230/signin-oidc\r\n","response_type":"id_token\r\n","scope":"openid profile email api.read\r\n","nonce":"63653346343504\r\n","state":"CfDJAJDR\r\n","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:57:20.063 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 11:57:20.068 +03:00 [ERR] Unknown client or not enabled: angular_spa

{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa\r\n","redirect_uri":"http://localhost:5230/signin-oidc\r\n","response_type":"id_token\r\n","scope":"openid profile email api.read\r\n","nonce":"63653346343504\r\n","state":"CfDJAJDR\r\n","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:57:20.070 +03:00 [ERR] Request validation failed
2020-03-05 11:57:20.073 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa\r\n","redirect_uri":"http://localhost:5230/signin-oidc\r\n","response_type":"id_token\r\n","scope":"openid profile email api.read\r\n","nonce":"63653346343504\r\n","state":"CfDJAJDR\r\n","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:57:21.762 +03:00 [INF] Removing 0 grants
2020-03-05 11:57:21.775 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:57:51.794 +03:00 [INF] Removing 0 grants
2020-03-05 11:57:51.801 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:58:21.823 +03:00 [INF] Removing 0 grants
2020-03-05 11:58:21.830 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:58:46.803 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 11:58:46.807 +03:00 [ERR] Unknown client or not enabled: angular_spa

{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa\r\n","redirect_uri":"http://localhost:5230/signin-oidc\r\n","response_type":"id_token\r\n","scope":"openid profile email api.read\r\n","nonce":"63653346343504\r\n","state":"CfDJAJDR\r\n","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:58:46.810 +03:00 [ERR] Request validation failed
2020-03-05 11:58:46.813 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa\r\n","redirect_uri":"http://localhost:5230/signin-oidc\r\n","response_type":"id_token\r\n","scope":"openid profile email api.read\r\n","nonce":"63653346343504\r\n","state":"CfDJAJDR\r\n","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:58:51.851 +03:00 [INF] Removing 0 grants
2020-03-05 11:58:51.858 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:58:57.939 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 11:58:57.946 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/","response_type":"id_token","scope":"openid profile email api.read","nonce":"63653346343504","state":"CfDJAJDR","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:58:57.949 +03:00 [ERR] Request validation failed
2020-03-05 11:58:57.952 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/","response_type":"id_token","scope":"openid profile email api.read","nonce":"63653346343504","state":"CfDJAJDR","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:59:19.972 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 11:59:19.976 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/","response_type":"id_token","scope":"openid profile email api.read","nonce":"63653346343504","state":"CfDJAJDR","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:59:19.979 +03:00 [ERR] Request validation failed
2020-03-05 11:59:19.982 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/","response_type":"id_token","scope":"openid profile email api.read","nonce":"63653346343504","state":"CfDJAJDR","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 11:59:21.872 +03:00 [INF] Removing 0 grants
2020-03-05 11:59:21.879 +03:00 [INF] Removing 0 device flow codes
2020-03-05 11:59:51.909 +03:00 [INF] Removing 0 grants
2020-03-05 11:59:51.920 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:00:21.937 +03:00 [INF] Removing 0 grants
2020-03-05 12:00:21.951 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:00:51.985 +03:00 [INF] Removing 0 grants
2020-03-05 12:00:51.993 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:01:22.011 +03:00 [INF] Removing 0 grants
2020-03-05 12:01:22.018 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:01:52.034 +03:00 [INF] Removing 0 grants
2020-03-05 12:01:52.041 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:02:13.034 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 12:02:13.038 +03:00 [ERR] client_id is missing or too long
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id%3Dangular_spa%26redirect_uri%3Dhttp%3A%2F%2Flocalhost%3A4200%2F%26response_type%3Did_token%26scope%3Dopenid%20profile%20email%20api.read%26nonce%3D63653346343504%26state%3DCfDJAJDR%26response_mode%3Dform_post":""},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 12:02:13.040 +03:00 [ERR] Request validation failed
2020-03-05 12:02:13.043 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id%3Dangular_spa%26redirect_uri%3Dhttp%3A%2F%2Flocalhost%3A4200%2F%26response_type%3Did_token%26scope%3Dopenid%20profile%20email%20api.read%26nonce%3D63653346343504%26state%3DCfDJAJDR%26response_mode%3Dform_post":""},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 12:02:22.079 +03:00 [INF] Removing 0 grants
2020-03-05 12:02:22.083 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:02:52.104 +03:00 [INF] Removing 0 grants
2020-03-05 12:02:52.112 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:03:22.132 +03:00 [INF] Removing 0 grants
2020-03-05 12:03:22.142 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:03:23.264 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 12:03:23.268 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type":"password","client_id":"angular_spa"},"$type":"TokenRequestValidationLog"}
2020-03-05 12:03:52.153 +03:00 [INF] Removing 0 grants
2020-03-05 12:03:52.173 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:04:00.007 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 12:04:00.010 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/","response_type":"id_token","scope":"openid profile email api.read","nonce":"63653346343504","state":"CfDJAJDR","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 12:04:00.014 +03:00 [ERR] Request validation failed
2020-03-05 12:04:00.017 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/","response_type":"id_token","scope":"openid profile email api.read","nonce":"63653346343504","state":"CfDJAJDR","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 12:04:11.739 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 12:04:11.741 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/","response_type":"id_token","nonce":"63653346343504","state":"CfDJAJDR","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 12:04:11.743 +03:00 [ERR] Request validation failed
2020-03-05 12:04:11.746 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/","response_type":"id_token","nonce":"63653346343504","state":"CfDJAJDR","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 12:04:22.186 +03:00 [INF] Removing 0 grants
2020-03-05 12:04:22.190 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:04:58.407 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 12:04:58.546 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 12:05:00.498 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 12:05:13.602 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 12:05:13.667 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/","response_type":"id_token","nonce":"63653346343504","state":"CfDJAJDR","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 12:05:13.672 +03:00 [ERR] Request validation failed
2020-03-05 12:05:13.674 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/","response_type":"id_token","nonce":"63653346343504","state":"CfDJAJDR","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 12:05:29.857 +03:00 [INF] Removing 0 grants
2020-03-05 12:05:29.873 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:06:13.524 +03:00 [INF] Removing 0 grants
2020-03-05 12:06:13.530 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:06:43.562 +03:00 [INF] Removing 0 grants
2020-03-05 12:06:43.566 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:07:13.594 +03:00 [INF] Removing 0 grants
2020-03-05 12:07:13.604 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:07:43.623 +03:00 [INF] Removing 0 grants
2020-03-05 12:07:43.629 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:08:13.659 +03:00 [INF] Removing 0 grants
2020-03-05 12:08:13.667 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:08:48.685 +03:00 [INF] Removing 0 grants
2020-03-05 12:08:48.692 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:09:18.720 +03:00 [INF] Removing 0 grants
2020-03-05 12:09:18.728 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:09:48.753 +03:00 [INF] Removing 0 grants
2020-03-05 12:09:48.760 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:10:18.785 +03:00 [INF] Removing 0 grants
2020-03-05 12:10:18.791 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:10:48.815 +03:00 [INF] Removing 0 grants
2020-03-05 12:10:48.821 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:11:27.296 +03:00 [INF] Removing 0 grants
2020-03-05 12:11:27.304 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:11:57.322 +03:00 [INF] Removing 0 grants
2020-03-05 12:11:57.329 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:12:27.343 +03:00 [INF] Removing 0 grants
2020-03-05 12:12:27.350 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:12:57.377 +03:00 [INF] Removing 0 grants
2020-03-05 12:12:57.387 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:13:27.421 +03:00 [INF] Removing 0 grants
2020-03-05 12:13:27.429 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:14:08.406 +03:00 [INF] Removing 0 grants
2020-03-05 12:14:08.414 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:14:38.435 +03:00 [INF] Removing 0 grants
2020-03-05 12:14:38.441 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:15:08.464 +03:00 [INF] Removing 0 grants
2020-03-05 12:15:08.470 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:15:38.498 +03:00 [INF] Removing 0 grants
2020-03-05 12:15:38.505 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:16:08.526 +03:00 [INF] Removing 0 grants
2020-03-05 12:16:08.534 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:16:42.660 +03:00 [INF] Removing 0 grants
2020-03-05 12:16:42.664 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:17:12.681 +03:00 [INF] Removing 0 grants
2020-03-05 12:17:12.687 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:17:42.703 +03:00 [INF] Removing 0 grants
2020-03-05 12:17:42.718 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:18:12.732 +03:00 [INF] Removing 0 grants
2020-03-05 12:18:12.738 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:18:42.750 +03:00 [INF] Removing 0 grants
2020-03-05 12:18:42.756 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:19:12.776 +03:00 [INF] Removing 0 grants
2020-03-05 12:19:12.783 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:19:50.841 +03:00 [INF] Removing 0 grants
2020-03-05 12:19:50.847 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:20:20.870 +03:00 [INF] Removing 0 grants
2020-03-05 12:20:20.876 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:20:50.889 +03:00 [INF] Removing 0 grants
2020-03-05 12:20:50.896 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:21:20.916 +03:00 [INF] Removing 0 grants
2020-03-05 12:21:20.922 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:21:50.963 +03:00 [INF] Removing 0 grants
2020-03-05 12:21:50.971 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:22:25.717 +03:00 [INF] Removing 0 grants
2020-03-05 12:22:25.725 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:22:55.735 +03:00 [INF] Removing 0 grants
2020-03-05 12:22:55.741 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:23:25.759 +03:00 [INF] Removing 0 grants
2020-03-05 12:23:25.765 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:23:55.782 +03:00 [INF] Removing 0 grants
2020-03-05 12:23:55.793 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:24:25.839 +03:00 [INF] Removing 0 grants
2020-03-05 12:24:25.845 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:25:08.088 +03:00 [INF] Removing 0 grants
2020-03-05 12:25:08.096 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:25:38.117 +03:00 [INF] Removing 0 grants
2020-03-05 12:25:38.123 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:26:08.134 +03:00 [INF] Removing 0 grants
2020-03-05 12:26:08.140 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:26:38.151 +03:00 [INF] Removing 0 grants
2020-03-05 12:26:38.157 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:27:08.181 +03:00 [INF] Removing 0 grants
2020-03-05 12:27:08.187 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:27:47.217 +03:00 [INF] Removing 0 grants
2020-03-05 12:27:47.230 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:28:17.246 +03:00 [INF] Removing 0 grants
2020-03-05 12:28:17.252 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:28:47.266 +03:00 [INF] Removing 0 grants
2020-03-05 12:28:47.280 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:29:17.295 +03:00 [INF] Removing 0 grants
2020-03-05 12:29:17.305 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:29:47.343 +03:00 [INF] Removing 0 grants
2020-03-05 12:29:47.350 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:30:20.344 +03:00 [INF] Removing 0 grants
2020-03-05 12:30:20.348 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:30:50.372 +03:00 [INF] Removing 0 grants
2020-03-05 12:30:50.375 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:31:20.402 +03:00 [INF] Removing 0 grants
2020-03-05 12:31:20.408 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:31:50.426 +03:00 [INF] Removing 0 grants
2020-03-05 12:31:50.434 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:32:20.453 +03:00 [INF] Removing 0 grants
2020-03-05 12:32:20.460 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:32:50.479 +03:00 [INF] Removing 0 grants
2020-03-05 12:32:50.485 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:33:20.498 +03:00 [INF] Removing 0 grants
2020-03-05 12:33:20.504 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:33:50.525 +03:00 [INF] Removing 0 grants
2020-03-05 12:33:50.531 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:34:29.529 +03:00 [INF] Removing 0 grants
2020-03-05 12:34:29.536 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:34:59.557 +03:00 [INF] Removing 0 grants
2020-03-05 12:34:59.563 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:35:29.573 +03:00 [INF] Removing 0 grants
2020-03-05 12:35:29.579 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:35:59.600 +03:00 [INF] Removing 0 grants
2020-03-05 12:35:59.603 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:36:29.619 +03:00 [INF] Removing 0 grants
2020-03-05 12:36:29.625 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:37:18.684 +03:00 [INF] Removing 0 grants
2020-03-05 12:37:18.694 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:37:48.710 +03:00 [INF] Removing 0 grants
2020-03-05 12:37:48.716 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:38:18.729 +03:00 [INF] Removing 0 grants
2020-03-05 12:38:18.735 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:38:48.759 +03:00 [INF] Removing 0 grants
2020-03-05 12:38:48.765 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:39:18.789 +03:00 [INF] Removing 0 grants
2020-03-05 12:39:18.794 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:39:52.652 +03:00 [INF] Removing 0 grants
2020-03-05 12:39:52.658 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:40:22.682 +03:00 [INF] Removing 0 grants
2020-03-05 12:40:22.687 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:40:52.699 +03:00 [INF] Removing 0 grants
2020-03-05 12:40:52.705 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:41:22.727 +03:00 [INF] Removing 0 grants
2020-03-05 12:41:22.733 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:41:52.743 +03:00 [INF] Removing 0 grants
2020-03-05 12:41:52.749 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:42:22.760 +03:00 [INF] Removing 0 grants
2020-03-05 12:42:22.766 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:42:52.778 +03:00 [INF] Removing 0 grants
2020-03-05 12:42:52.785 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:43:22.805 +03:00 [INF] Removing 0 grants
2020-03-05 12:43:22.811 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:43:59.932 +03:00 [INF] Removing 0 grants
2020-03-05 12:43:59.939 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:44:29.961 +03:00 [INF] Removing 0 grants
2020-03-05 12:44:29.967 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:44:59.983 +03:00 [INF] Removing 0 grants
2020-03-05 12:44:59.991 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:45:30.012 +03:00 [INF] Removing 0 grants
2020-03-05 12:45:30.019 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:45:33.615 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 12:45:33.619 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/","response_type":"id_token","nonce":"63653346343504","state":"CfDJAJDR","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 12:45:33.620 +03:00 [ERR] Request validation failed
2020-03-05 12:45:33.622 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/","response_type":"id_token","nonce":"63653346343504","state":"CfDJAJDR","response_mode":"form_post"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 12:45:36.744 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 12:45:36.774 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type":"password","client_id":"angular_spa"},"$type":"TokenRequestValidationLog"}
2020-03-05 12:46:00.043 +03:00 [INF] Removing 0 grants
2020-03-05 12:46:00.056 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:46:30.080 +03:00 [INF] Removing 0 grants
2020-03-05 12:46:30.084 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:47:00.101 +03:00 [INF] Removing 0 grants
2020-03-05 12:47:00.108 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:47:30.120 +03:00 [INF] Removing 0 grants
2020-03-05 12:47:30.126 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:48:00.141 +03:00 [INF] Removing 0 grants
2020-03-05 12:48:00.149 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:48:30.169 +03:00 [INF] Removing 0 grants
2020-03-05 12:48:30.175 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:49:00.214 +03:00 [INF] Removing 0 grants
2020-03-05 12:49:00.217 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:49:30.226 +03:00 [INF] Removing 0 grants
2020-03-05 12:49:30.232 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:50:00.243 +03:00 [INF] Removing 0 grants
2020-03-05 12:50:00.250 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:50:30.265 +03:00 [INF] Removing 0 grants
2020-03-05 12:50:30.271 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:51:00.297 +03:00 [INF] Removing 0 grants
2020-03-05 12:51:00.300 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:51:30.324 +03:00 [INF] Removing 0 grants
2020-03-05 12:51:30.333 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:52:00.347 +03:00 [INF] Removing 0 grants
2020-03-05 12:52:00.355 +03:00 [INF] Removing 0 device flow codes
2020-03-05 12:52:28.886 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 12:52:29.044 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 12:52:29.078 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 13:39:55.627 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 13:39:55.825 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 13:39:57.783 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 13:40:05.264 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 13:40:05.346 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/silent-refresh.html
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/silent-refresh.html","response_type":"id_token","scope":"openid","state":"2dd8088d6d4041afb03cb8ed4a33a48d","nonce":"2b7d8d5c0d234dffa712d5dd6ac13163","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 13:40:05.351 +03:00 [ERR] Request validation failed
2020-03-05 13:40:05.353 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/silent-refresh.html","response_type":"id_token","scope":"openid","state":"2dd8088d6d4041afb03cb8ed4a33a48d","nonce":"2b7d8d5c0d234dffa712d5dd6ac13163","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 13:40:13.288 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 13:40:13.317 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 13:40:27.055 +03:00 [INF] Removing 0 grants
2020-03-05 13:40:27.070 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:40:48.481 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 13:40:57.111 +03:00 [INF] Removing 0 grants
2020-03-05 13:40:57.116 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:41:27.131 +03:00 [INF] Removing 0 grants
2020-03-05 13:41:27.138 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:41:47.880 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 13:41:57.159 +03:00 [INF] Removing 0 grants
2020-03-05 13:41:57.168 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:41:58.100 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 13:41:58.126 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"tim.ilgiz@gmail.com","password":"***REDACTED***","grant_type":"password","client_id":"angular_spa"},"$type":"TokenRequestValidationLog"}
2020-03-05 13:42:09.657 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-03-05 13:42:27.190 +03:00 [INF] Removing 0 grants
2020-03-05 13:42:27.194 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:42:28.633 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-05 13:42:28.635 +03:00 [WRN] Invalid HTTP request for token endpoint
2020-03-05 13:42:57.216 +03:00 [INF] Removing 0 grants
2020-03-05 13:42:57.235 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:43:27.249 +03:00 [INF] Removing 0 grants
2020-03-05 13:43:27.258 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:53:47.161 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 13:53:47.311 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 13:53:49.166 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 13:54:01.656 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 13:54:01.829 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 13:54:01.873 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 13:54:18.431 +03:00 [INF] Removing 0 grants
2020-03-05 13:54:18.444 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:56:14.650 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 13:56:14.792 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 13:56:16.738 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 13:56:45.838 +03:00 [INF] Removing 0 grants
2020-03-05 13:56:45.851 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:57:15.899 +03:00 [INF] Removing 0 grants
2020-03-05 13:57:15.911 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:57:45.939 +03:00 [INF] Removing 0 grants
2020-03-05 13:57:45.946 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:58:15.979 +03:00 [INF] Removing 0 grants
2020-03-05 13:58:16.006 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:58:46.029 +03:00 [INF] Removing 0 grants
2020-03-05 13:58:46.035 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:59:10.527 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 13:59:16.055 +03:00 [INF] Removing 0 grants
2020-03-05 13:59:16.061 +03:00 [INF] Removing 0 device flow codes
2020-03-05 13:59:46.083 +03:00 [INF] Removing 0 grants
2020-03-05 13:59:46.090 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:00:16.109 +03:00 [INF] Removing 0 grants
2020-03-05 14:00:16.116 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:00:46.156 +03:00 [INF] Removing 0 grants
2020-03-05 14:00:46.164 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:01:16.186 +03:00 [INF] Removing 0 grants
2020-03-05 14:01:16.194 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:01:46.225 +03:00 [INF] Removing 0 grants
2020-03-05 14:01:46.263 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:02:16.286 +03:00 [INF] Removing 0 grants
2020-03-05 14:02:16.295 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:02:46.309 +03:00 [INF] Removing 0 grants
2020-03-05 14:02:46.316 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:03:16.821 +03:00 [INF] Removing 0 grants
2020-03-05 14:03:16.826 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:03:20.013 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 14:03:46.839 +03:00 [INF] Removing 0 grants
2020-03-05 14:03:46.848 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:04:16.872 +03:00 [INF] Removing 0 grants
2020-03-05 14:04:16.892 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:04:46.917 +03:00 [INF] Removing 0 grants
2020-03-05 14:04:46.924 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:05:16.936 +03:00 [INF] Removing 0 grants
2020-03-05 14:05:16.947 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:05:46.971 +03:00 [INF] Removing 0 grants
2020-03-05 14:05:46.979 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:06:17.004 +03:00 [INF] Removing 0 grants
2020-03-05 14:06:17.011 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:06:47.030 +03:00 [INF] Removing 0 grants
2020-03-05 14:06:47.035 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:07:17.056 +03:00 [INF] Removing 0 grants
2020-03-05 14:07:17.063 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:07:47.074 +03:00 [INF] Removing 0 grants
2020-03-05 14:07:47.081 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:08:17.104 +03:00 [INF] Removing 0 grants
2020-03-05 14:08:17.111 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:08:47.122 +03:00 [INF] Removing 0 grants
2020-03-05 14:08:47.126 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:09:17.138 +03:00 [INF] Removing 0 grants
2020-03-05 14:09:17.145 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:09:47.174 +03:00 [INF] Removing 0 grants
2020-03-05 14:09:47.183 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:10:17.211 +03:00 [INF] Removing 0 grants
2020-03-05 14:10:17.218 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:10:47.244 +03:00 [INF] Removing 0 grants
2020-03-05 14:10:47.251 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:11:17.281 +03:00 [INF] Removing 0 grants
2020-03-05 14:11:17.288 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:11:47.299 +03:00 [INF] Removing 0 grants
2020-03-05 14:11:47.312 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:12:17.331 +03:00 [INF] Removing 0 grants
2020-03-05 14:12:17.335 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:12:47.354 +03:00 [INF] Removing 0 grants
2020-03-05 14:12:47.361 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:13:17.387 +03:00 [INF] Removing 0 grants
2020-03-05 14:13:17.399 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:13:47.421 +03:00 [INF] Removing 0 grants
2020-03-05 14:13:47.424 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:14:17.433 +03:00 [INF] Removing 0 grants
2020-03-05 14:14:17.440 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:14:47.453 +03:00 [INF] Removing 0 grants
2020-03-05 14:14:47.461 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:15:17.485 +03:00 [INF] Removing 0 grants
2020-03-05 14:15:17.492 +03:00 [INF] Removing 0 device flow codes
2020-03-05 14:15:47.509 +03:00 [INF] Removing 0 grants
2020-03-05 14:15:47.513 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:15:11.651 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 15:15:11.847 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 15:15:13.975 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 15:15:22.242 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 15:15:22.319 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/silent-refresh.html
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/silent-refresh.html","response_type":"id_token","scope":"openid","state":"2333370ff15d4275ad5091553bdf67c3","nonce":"c10a21c3d29d4adaa9fd90bfbeb6b676","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 15:15:22.326 +03:00 [ERR] Request validation failed
2020-03-05 15:15:22.329 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/silent-refresh.html","response_type":"id_token","scope":"openid","state":"2333370ff15d4275ad5091553bdf67c3","nonce":"c10a21c3d29d4adaa9fd90bfbeb6b676","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 15:15:26.750 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2020-03-05 15:15:26.860 +03:00 [ERR] JWT token validation error: IDX10501: Signature validation failed. Unable to match key: 
kid: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
Exceptions caught:
 '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. 
token: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10501: Signature validation failed. Unable to match key: 
kid: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
Exceptions caught:
 '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. 
token: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, IEnumerable`1 validationKeys, Boolean validateLifetime, String audience)
2020-03-05 15:15:26.866 +03:00 [ERR] Error validating JWT
{"ClientId":"angular_spa","ClientName":"Angular SPA","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":null,"$type":"TokenValidationLog"}
2020-03-05 15:15:26.870 +03:00 [INF] End session request validation failure: Error validating id token hint
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"id_token_hint":"***REDACTED***","post_logout_redirect_uri":"http://localhost:4200/"},"$type":"EndSessionRequestValidationLog"}
2020-03-05 15:15:26.872 +03:00 [ERR] Error processing end session request Invalid request
2020-03-05 15:15:27.135 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Value cannot be null or empty. (Parameter 'url')
   at Microsoft.AspNetCore.Mvc.ControllerBase.Redirect(String url)
   at IdentityServer.Controllers.AccountController.Logout(String logoutId) in C:\ILGIZ\Study\detree\auth\IdentityServer\Controllers\AccountController.cs:line 186
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-05 15:15:33.169 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 15:15:33.234 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 15:15:33.260 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 15:15:44.468 +03:00 [INF] Removing 0 grants
2020-03-05 15:15:44.482 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:16:14.546 +03:00 [INF] Removing 0 grants
2020-03-05 15:16:14.553 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:16:29.967 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 15:16:56.893 +03:00 [INF] Removing 0 grants
2020-03-05 15:16:56.899 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:19:19.618 +03:00 [INF] Removing 0 grants
2020-03-05 15:19:19.626 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:24:29.987 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 15:24:30.145 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 15:24:32.419 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 15:24:43.263 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 15:24:43.377 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 15:24:43.417 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 15:25:01.314 +03:00 [INF] Removing 0 grants
2020-03-05 15:25:01.331 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:25:20.702 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 15:25:35.376 +03:00 [INF] Removing 0 grants
2020-03-05 15:25:35.380 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:28:06.778 +03:00 [INF] Removing 0 grants
2020-03-05 15:28:06.782 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:28:36.808 +03:00 [INF] Removing 0 grants
2020-03-05 15:28:36.817 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:29:12.150 +03:00 [INF] Removing 0 grants
2020-03-05 15:29:12.160 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:29:42.180 +03:00 [INF] Removing 0 grants
2020-03-05 15:29:42.188 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:30:12.207 +03:00 [INF] Removing 0 grants
2020-03-05 15:30:12.214 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:30:42.239 +03:00 [INF] Removing 0 grants
2020-03-05 15:30:42.248 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:31:12.268 +03:00 [INF] Removing 0 grants
2020-03-05 15:31:12.275 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:31:42.302 +03:00 [INF] Removing 0 grants
2020-03-05 15:31:42.309 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:32:12.327 +03:00 [INF] Removing 0 grants
2020-03-05 15:32:12.343 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:32:42.364 +03:00 [INF] Removing 0 grants
2020-03-05 15:32:42.371 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:33:18.107 +03:00 [INF] Removing 0 grants
2020-03-05 15:33:18.114 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:33:48.135 +03:00 [INF] Removing 0 grants
2020-03-05 15:33:48.138 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:34:18.156 +03:00 [INF] Removing 0 grants
2020-03-05 15:34:18.171 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:34:48.182 +03:00 [INF] Removing 0 grants
2020-03-05 15:34:48.188 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:35:18.234 +03:00 [INF] Removing 0 grants
2020-03-05 15:35:18.245 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:35:48.268 +03:00 [INF] Removing 0 grants
2020-03-05 15:35:48.275 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:36:23.247 +03:00 [INF] Removing 0 grants
2020-03-05 15:36:23.255 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:36:53.275 +03:00 [INF] Removing 0 grants
2020-03-05 15:36:53.281 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:37:23.294 +03:00 [INF] Removing 0 grants
2020-03-05 15:37:23.300 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:37:53.313 +03:00 [INF] Removing 0 grants
2020-03-05 15:37:53.320 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:38:23.343 +03:00 [INF] Removing 0 grants
2020-03-05 15:38:23.351 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:38:56.291 +03:00 [INF] Removing 0 grants
2020-03-05 15:38:56.297 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:39:26.323 +03:00 [INF] Removing 0 grants
2020-03-05 15:39:26.329 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:39:56.358 +03:00 [INF] Removing 0 grants
2020-03-05 15:39:56.365 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:40:26.406 +03:00 [INF] Removing 0 grants
2020-03-05 15:40:26.414 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:40:56.437 +03:00 [INF] Removing 0 grants
2020-03-05 15:40:56.445 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:41:26.468 +03:00 [INF] Removing 0 grants
2020-03-05 15:41:26.474 +03:00 [INF] Removing 0 device flow codes
2020-03-05 15:41:56.495 +03:00 [INF] Removing 0 grants
2020-03-05 15:41:56.502 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:09:52.585 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 16:09:52.723 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 16:09:54.564 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 16:10:23.789 +03:00 [INF] Removing 0 grants
2020-03-05 16:10:23.805 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:10:38.531 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 16:10:38.655 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 16:10:38.699 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 16:10:53.852 +03:00 [INF] Removing 0 grants
2020-03-05 16:10:53.860 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:11:23.880 +03:00 [INF] Removing 0 grants
2020-03-05 16:11:23.886 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:11:42.511 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 16:12:51.622 +03:00 [INF] Removing 0 grants
2020-03-05 16:12:51.719 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:13:23.714 +03:00 [INF] Removing 0 grants
2020-03-05 16:13:24.578 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:13:55.768 +03:00 [INF] Removing 0 grants
2020-03-05 16:13:55.772 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:14:12.157 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 16:14:12.299 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 16:14:14.754 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 16:14:24.218 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 16:14:24.327 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 16:14:24.368 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 16:31:50.963 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 16:31:51.104 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 16:31:53.368 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 16:32:02.159 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 16:32:02.228 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/silent-refresh.html
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/silent-refresh.html","response_type":"id_token","scope":"openid","state":"623acd5ed4da4eb08f25b9e225341db0","nonce":"1a70dd95806847a1ab83e043852ddc6a","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 16:32:02.235 +03:00 [ERR] Request validation failed
2020-03-05 16:32:02.237 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/silent-refresh.html","response_type":"id_token","scope":"openid","state":"623acd5ed4da4eb08f25b9e225341db0","nonce":"1a70dd95806847a1ab83e043852ddc6a","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 16:32:10.793 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2020-03-05 16:32:10.949 +03:00 [ERR] JWT token validation error: IDX10501: Signature validation failed. Unable to match key: 
kid: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
Exceptions caught:
 '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. 
token: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10501: Signature validation failed. Unable to match key: 
kid: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
Exceptions caught:
 '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. 
token: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, IEnumerable`1 validationKeys, Boolean validateLifetime, String audience)
2020-03-05 16:32:10.956 +03:00 [ERR] Error validating JWT
{"ClientId":"angular_spa","ClientName":"Angular SPA","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":null,"$type":"TokenValidationLog"}
2020-03-05 16:32:10.960 +03:00 [INF] End session request validation failure: Error validating id token hint
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"id_token_hint":"***REDACTED***","post_logout_redirect_uri":"http://localhost:4200/"},"$type":"EndSessionRequestValidationLog"}
2020-03-05 16:32:10.962 +03:00 [ERR] Error processing end session request Invalid request
2020-03-05 16:32:11.248 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Value cannot be null or empty. (Parameter 'url')
   at Microsoft.AspNetCore.Mvc.ControllerBase.Redirect(String url)
   at IdentityServer.Controllers.AccountController.Logout(String logoutId) in C:\ILGIZ\Study\detree\auth\IdentityServer\Controllers\AccountController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-05 16:32:18.506 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 16:32:18.562 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 16:32:18.584 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 16:32:22.717 +03:00 [INF] Removing 0 grants
2020-03-05 16:32:22.729 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:32:48.811 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 16:32:52.740 +03:00 [INF] Removing 0 grants
2020-03-05 16:32:52.746 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:33:12.477 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 16:33:27.559 +03:00 [INF] Removing 0 grants
2020-03-05 16:33:27.964 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:34:21.706 +03:00 [INF] Removing 0 grants
2020-03-05 16:34:21.711 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:34:51.733 +03:00 [INF] Removing 0 grants
2020-03-05 16:34:51.739 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:35:21.756 +03:00 [INF] Removing 0 grants
2020-03-05 16:35:21.764 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:35:38.928 +03:00 [WRN] CorsPolicyService did not allow origin: null
2020-03-05 16:35:38.931 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 16:35:39.002 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 16:35:39.005 +03:00 [ERR] Unknown client or not enabled: js
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"31880bc52d634db2aa18e1a00e852de7","code_challenge":"Y3otIZXtWPqNPX5bu3VdvsBziSry5TWFMpZcSsWhiLI","code_challenge_method":"S256","response_mode":"query"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 16:35:39.007 +03:00 [ERR] Request validation failed
2020-03-05 16:35:39.009 +03:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"js","redirect_uri":"http://localhost:5003/callback.html","response_type":"code","scope":"openid profile api1","state":"31880bc52d634db2aa18e1a00e852de7","code_challenge":"Y3otIZXtWPqNPX5bu3VdvsBziSry5TWFMpZcSsWhiLI","code_challenge_method":"S256","response_mode":"query"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 16:35:51.783 +03:00 [INF] Removing 0 grants
2020-03-05 16:35:51.787 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:36:21.807 +03:00 [INF] Removing 0 grants
2020-03-05 16:36:21.817 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:36:51.829 +03:00 [INF] Removing 0 grants
2020-03-05 16:36:51.837 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:45:36.245 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 16:45:36.451 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 16:45:39.066 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 16:47:03.243 +03:00 [INF] Removing 0 grants
2020-03-05 16:47:03.259 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:47:26.189 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 16:47:26.311 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 16:47:26.362 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 16:47:33.312 +03:00 [INF] Removing 0 grants
2020-03-05 16:47:33.317 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:47:52.492 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 16:48:07.303 +03:00 [INF] Removing 0 grants
2020-03-05 16:48:13.196 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:48:43.216 +03:00 [INF] Removing 0 grants
2020-03-05 16:48:43.227 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:49:13.250 +03:00 [INF] Removing 0 grants
2020-03-05 16:49:13.257 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:49:55.138 +03:00 [INF] Removing 0 grants
2020-03-05 16:49:55.145 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:50:25.173 +03:00 [INF] Removing 0 grants
2020-03-05 16:50:25.178 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:50:55.202 +03:00 [INF] Removing 0 grants
2020-03-05 16:50:55.209 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:52:39.713 +03:00 [INF] Removing 0 grants
2020-03-05 16:52:39.723 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:53:09.747 +03:00 [INF] Removing 0 grants
2020-03-05 16:53:09.754 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:53:39.778 +03:00 [INF] Removing 0 grants
2020-03-05 16:53:39.790 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:54:09.815 +03:00 [INF] Removing 0 grants
2020-03-05 16:54:09.831 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:54:39.859 +03:00 [INF] Removing 0 grants
2020-03-05 16:54:39.869 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:55:09.901 +03:00 [INF] Removing 0 grants
2020-03-05 16:55:09.908 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:55:54.993 +03:00 [INF] Removing 0 grants
2020-03-05 16:55:55.001 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:56:25.016 +03:00 [INF] Removing 0 grants
2020-03-05 16:56:25.025 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:56:55.042 +03:00 [INF] Removing 0 grants
2020-03-05 16:56:55.047 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:57:25.060 +03:00 [INF] Removing 0 grants
2020-03-05 16:57:25.067 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:57:55.079 +03:00 [INF] Removing 0 grants
2020-03-05 16:57:55.085 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:58:25.106 +03:00 [INF] Removing 0 grants
2020-03-05 16:58:25.117 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:58:55.140 +03:00 [INF] Removing 0 grants
2020-03-05 16:58:55.144 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:59:25.171 +03:00 [INF] Removing 0 grants
2020-03-05 16:59:25.178 +03:00 [INF] Removing 0 device flow codes
2020-03-05 16:59:55.197 +03:00 [INF] Removing 0 grants
2020-03-05 16:59:55.203 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:00:25.226 +03:00 [INF] Removing 0 grants
2020-03-05 17:00:25.232 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:00:55.247 +03:00 [INF] Removing 0 grants
2020-03-05 17:00:55.253 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:01:25.278 +03:00 [INF] Removing 0 grants
2020-03-05 17:01:25.285 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:01:55.305 +03:00 [INF] Removing 0 grants
2020-03-05 17:01:55.312 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:02:25.325 +03:00 [INF] Removing 0 grants
2020-03-05 17:02:25.332 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:02:55.355 +03:00 [INF] Removing 0 grants
2020-03-05 17:02:55.362 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:03:25.387 +03:00 [INF] Removing 0 grants
2020-03-05 17:03:25.394 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:03:55.417 +03:00 [INF] Removing 0 grants
2020-03-05 17:03:55.432 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:04:25.449 +03:00 [INF] Removing 0 grants
2020-03-05 17:04:25.455 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:04:55.497 +03:00 [INF] Removing 0 grants
2020-03-05 17:04:55.504 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:05:25.515 +03:00 [INF] Removing 0 grants
2020-03-05 17:05:25.524 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:05:55.544 +03:00 [INF] Removing 0 grants
2020-03-05 17:05:55.548 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:06:25.560 +03:00 [INF] Removing 0 grants
2020-03-05 17:06:25.567 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:06:55.587 +03:00 [INF] Removing 0 grants
2020-03-05 17:06:55.594 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:07:25.606 +03:00 [INF] Removing 0 grants
2020-03-05 17:07:25.628 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:07:55.637 +03:00 [INF] Removing 0 grants
2020-03-05 17:07:55.640 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:08:46.208 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 17:08:46.373 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 17:08:48.821 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 17:08:58.294 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 17:08:58.413 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 17:08:58.459 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/auth-callback
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback/"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"89523da667af44748a749581f0a657e3","nonce":"a3e37a6dfca04350bf3f437dc6a35fe7"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 17:08:58.464 +03:00 [ERR] Request validation failed
2020-03-05 17:08:58.466 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback/"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"89523da667af44748a749581f0a657e3","nonce":"a3e37a6dfca04350bf3f437dc6a35fe7"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 17:09:08.012 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 17:09:08.062 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 17:09:08.065 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/auth-callback
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback/"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"7635e8d6e25d4c16aa18846a3bef64cd","nonce":"47f76f32087742b68966d172690c26ee"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 17:09:08.067 +03:00 [ERR] Request validation failed
2020-03-05 17:09:08.070 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback/"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"7635e8d6e25d4c16aa18846a3bef64cd","nonce":"47f76f32087742b68966d172690c26ee"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 17:09:17.464 +03:00 [INF] Removing 0 grants
2020-03-05 17:09:17.480 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:09:47.532 +03:00 [INF] Removing 0 grants
2020-03-05 17:09:47.546 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:10:04.301 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 17:10:04.493 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 17:10:07.128 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 17:10:22.217 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 17:10:22.327 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 17:10:22.371 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 17:10:35.668 +03:00 [INF] Removing 0 grants
2020-03-05 17:10:35.680 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:11:16.807 +03:00 [INF] Removing 0 grants
2020-03-05 17:11:16.857 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 17:11:16.860 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:11:46.892 +03:00 [INF] Removing 0 grants
2020-03-05 17:11:46.899 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:12:16.927 +03:00 [INF] Removing 0 grants
2020-03-05 17:12:16.935 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:12:46.956 +03:00 [INF] Removing 0 grants
2020-03-05 17:12:46.962 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:13:16.991 +03:00 [INF] Removing 0 grants
2020-03-05 17:13:16.998 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:13:47.020 +03:00 [INF] Removing 0 grants
2020-03-05 17:13:47.030 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:14:03.317 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 17:14:17.051 +03:00 [INF] Removing 0 grants
2020-03-05 17:14:17.055 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:14:47.075 +03:00 [INF] Removing 0 grants
2020-03-05 17:14:47.086 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:15:17.111 +03:00 [INF] Removing 0 grants
2020-03-05 17:15:17.119 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:15:47.149 +03:00 [INF] Removing 0 grants
2020-03-05 17:15:47.155 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:16:17.171 +03:00 [INF] Removing 0 grants
2020-03-05 17:16:17.183 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:16:47.196 +03:00 [INF] Removing 0 grants
2020-03-05 17:16:47.207 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:17:17.222 +03:00 [INF] Removing 0 grants
2020-03-05 17:17:17.234 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:18:57.299 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 17:18:57.513 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 17:19:00.215 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 17:19:11.461 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 17:19:11.582 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 17:19:11.625 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 17:19:33.518 +03:00 [INF] Removing 0 grants
2020-03-05 17:19:33.533 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:19:46.731 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 17:20:03.568 +03:00 [INF] Removing 0 grants
2020-03-05 17:20:03.572 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:20:59.103 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 17:20:59.316 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 17:21:01.717 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 17:21:16.329 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/auth-callback
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://125.0.0.1:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"8ab8c751d1094a7aa0c55e6938b77a19","nonce":"ec92d1cfd37c449386d482cfa6a413ed"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 17:21:19.438 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 17:21:19.521 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 17:21:19.529 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/auth-callback
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://125.0.0.1:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"fa1c7dd6401a46b8827b202e6a913998","nonce":"05743f8004674663a17e4bd95f8ff619"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 17:21:19.534 +03:00 [ERR] Request validation failed
2020-03-05 17:21:19.538 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://125.0.0.1:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"fa1c7dd6401a46b8827b202e6a913998","nonce":"05743f8004674663a17e4bd95f8ff619"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 17:21:24.990 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 17:21:25.046 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 17:21:25.050 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/auth-callback
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://125.0.0.1:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"97d82c6401e64669b65b26e365fd64e8","nonce":"7ff8801c514447aebcfde6be8ab09b97"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 17:21:25.051 +03:00 [ERR] Request validation failed
2020-03-05 17:21:25.054 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://125.0.0.1:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"97d82c6401e64669b65b26e365fd64e8","nonce":"7ff8801c514447aebcfde6be8ab09b97"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 17:21:51.261 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 17:21:51.407 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 17:21:53.900 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 17:22:03.784 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 17:22:03.889 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 17:22:03.937 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/auth-callback
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://127.0.0.1:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"2954dbaf15604bf59251dc7cbb5f177d","nonce":"9058f59f25d94acebc1fd19ecc3dcc21"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 17:22:03.943 +03:00 [ERR] Request validation failed
2020-03-05 17:22:03.945 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://127.0.0.1:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"2954dbaf15604bf59251dc7cbb5f177d","nonce":"9058f59f25d94acebc1fd19ecc3dcc21"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 17:22:22.533 +03:00 [INF] Removing 0 grants
2020-03-05 17:22:22.546 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:23:11.840 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 17:23:12.076 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 17:23:14.578 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 17:23:30.025 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 17:23:30.139 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 17:23:30.182 +03:00 [ERR] Invalid redirect_uri: http://localhost:4200/auth-callback
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://127.0.0.1:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"a3bfe5b9f0024253a7edc88cc19a9717","nonce":"b467cb514dd94ea6b8c63d6eb4a65fe8"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 17:23:30.187 +03:00 [ERR] Request validation failed
2020-03-05 17:23:30.189 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://127.0.0.1:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa","redirect_uri":"http://localhost:4200/auth-callback","response_type":"id_token token","scope":"openid profile email api.read","state":"a3bfe5b9f0024253a7edc88cc19a9717","nonce":"b467cb514dd94ea6b8c63d6eb4a65fe8"},"$type":"AuthorizeRequestValidationLog"}
2020-03-05 17:34:59.703 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 17:34:59.965 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 17:35:02.936 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 17:35:31.224 +03:00 [INF] Removing 0 grants
2020-03-05 17:35:31.239 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:36:01.286 +03:00 [INF] Removing 0 grants
2020-03-05 17:36:01.292 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:36:16.039 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 17:36:16.162 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 17:36:16.210 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 17:36:31.325 +03:00 [INF] Removing 0 grants
2020-03-05 17:36:31.331 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:37:03.841 +03:00 [INF] Removing 0 grants
2020-03-05 17:37:03.848 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:37:12.783 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 17:37:37.308 +03:00 [INF] Removing 0 grants
2020-03-05 17:37:37.312 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:38:07.359 +03:00 [INF] Removing 0 grants
2020-03-05 17:38:07.368 +03:00 [INF] Removing 0 device flow codes
2020-03-05 17:38:37.400 +03:00 [INF] Removing 0 grants
2020-03-05 17:38:37.403 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:03:47.489 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 18:03:47.863 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 18:03:49.720 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 18:04:11.789 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 18:04:11.996 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 18:04:12.096 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 18:04:21.722 +03:00 [INF] Removing 0 grants
2020-03-05 18:04:21.737 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:04:54.584 +03:00 [INF] Removing 0 grants
2020-03-05 18:04:54.616 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 18:04:54.635 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:05:20.084 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 18:05:30.229 +03:00 [INF] Removing 0 grants
2020-03-05 18:05:33.645 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:06:03.701 +03:00 [INF] Removing 0 grants
2020-03-05 18:06:03.726 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:06:33.780 +03:00 [INF] Removing 0 grants
2020-03-05 18:06:33.803 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:07:03.861 +03:00 [INF] Removing 0 grants
2020-03-05 18:07:03.868 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:07:33.928 +03:00 [INF] Removing 0 grants
2020-03-05 18:07:33.942 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:08:04.016 +03:00 [INF] Removing 0 grants
2020-03-05 18:08:04.044 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:08:34.140 +03:00 [INF] Removing 0 grants
2020-03-05 18:08:34.150 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:09:04.219 +03:00 [INF] Removing 0 grants
2020-03-05 18:09:04.241 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:09:34.342 +03:00 [INF] Removing 0 grants
2020-03-05 18:09:34.375 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:10:04.416 +03:00 [INF] Removing 0 grants
2020-03-05 18:10:04.432 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:10:34.486 +03:00 [INF] Removing 0 grants
2020-03-05 18:10:34.504 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:11:04.610 +03:00 [INF] Removing 0 grants
2020-03-05 18:11:04.615 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:11:34.688 +03:00 [INF] Removing 0 grants
2020-03-05 18:11:34.709 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:12:04.747 +03:00 [INF] Removing 0 grants
2020-03-05 18:12:04.772 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:12:34.868 +03:00 [INF] Removing 0 grants
2020-03-05 18:12:34.873 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:21:28.908 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 18:21:29.964 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 18:21:32.404 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 18:21:50.910 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 18:21:51.119 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 18:21:51.244 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 18:22:05.488 +03:00 [INF] Removing 0 grants
2020-03-05 18:22:05.556 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:22:35.681 +03:00 [INF] Removing 0 grants
2020-03-05 18:22:35.690 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:23:06.796 +03:00 [INF] Removing 0 grants
2020-03-05 18:23:06.805 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:23:45.125 +03:00 [INF] Removing 0 grants
2020-03-05 18:23:45.136 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:23:45.263 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 18:24:15.214 +03:00 [INF] Removing 0 grants
2020-03-05 18:24:15.232 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:24:51.201 +03:00 [INF] Removing 0 grants
2020-03-05 18:24:51.205 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:25:21.314 +03:00 [INF] Removing 0 grants
2020-03-05 18:25:21.325 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:25:51.437 +03:00 [INF] Removing 0 grants
2020-03-05 18:25:51.474 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:26:21.498 +03:00 [INF] Removing 0 grants
2020-03-05 18:26:21.516 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:26:51.595 +03:00 [INF] Removing 0 grants
2020-03-05 18:26:51.617 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:27:21.681 +03:00 [INF] Removing 0 grants
2020-03-05 18:27:21.692 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:27:46.810 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 18:27:51.709 +03:00 [INF] Removing 0 grants
2020-03-05 18:27:51.718 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:28:21.750 +03:00 [INF] Removing 0 grants
2020-03-05 18:28:21.760 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:28:51.856 +03:00 [INF] Removing 0 grants
2020-03-05 18:28:51.865 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:29:21.954 +03:00 [INF] Removing 0 grants
2020-03-05 18:29:21.967 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:29:52.051 +03:00 [INF] Removing 0 grants
2020-03-05 18:29:52.080 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:30:22.106 +03:00 [INF] Removing 0 grants
2020-03-05 18:30:22.116 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:30:54.324 +03:00 [INF] Removing 0 grants
2020-03-05 18:30:54.375 +03:00 [INF] Removing 0 device flow codes
2020-03-05 18:30:59.972 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 18:34:33.833 +03:00 [INF] Removing 0 grants
2020-03-05 18:34:33.847 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:21:34.483 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 23:21:35.206 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 23:21:36.603 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 23:21:55.763 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 23:21:56.048 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 23:21:56.210 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 23:22:12.395 +03:00 [ERR] An error occurred using the connection to database 'dtdb' on server 'tcp://localhost:5432'.
2020-03-05 23:22:12.729 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-03-05 23:22:12.751 +03:00 [ERR] Exception removing expired grants: An exception has been raised that is likely due to a transient failure.
2020-03-05 23:22:46.966 +03:00 [ERR] An error occurred using the connection to database 'dtdb' on server 'tcp://localhost:5432'.
2020-03-05 23:22:47.005 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-03-05 23:22:47.015 +03:00 [ERR] Exception removing expired grants: An exception has been raised that is likely due to a transient failure.
2020-03-05 23:23:21.154 +03:00 [ERR] An error occurred using the connection to database 'dtdb' on server 'tcp://localhost:5432'.
2020-03-05 23:23:21.224 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-03-05 23:23:21.240 +03:00 [ERR] Exception removing expired grants: An exception has been raised that is likely due to a transient failure.
2020-03-05 23:23:55.361 +03:00 [ERR] An error occurred using the connection to database 'dtdb' on server 'tcp://localhost:5432'.
2020-03-05 23:23:55.412 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-03-05 23:23:55.426 +03:00 [ERR] Exception removing expired grants: An exception has been raised that is likely due to a transient failure.
2020-03-05 23:24:15.195 +03:00 [ERR] An error occurred using the connection to database 'dtdb' on server 'tcp://localhost:5432'.
2020-03-05 23:24:15.269 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Infrastructure.Persistence.AppIdentityDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-03-05 23:24:15.980 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at IdentityServer.Controllers.AccountController.Login(LoginInputModel model, String button) in C:\Users\ilgiz\source\repos\detree\auth\IdentityServer\Controllers\AccountController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-05 23:24:29.569 +03:00 [ERR] An error occurred using the connection to database 'dtdb' on server 'tcp://localhost:5432'.
2020-03-05 23:24:29.639 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-03-05 23:24:29.669 +03:00 [ERR] Exception removing expired grants: An exception has been raised that is likely due to a transient failure.
2020-03-05 23:24:59.482 +03:00 [ERR] An error occurred using the connection to database 'dtdb' on server 'tcp://localhost:5432'.
2020-03-05 23:24:59.555 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Infrastructure.Persistence.AppIdentityDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-03-05 23:25:00.049 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at IdentityServer.Controllers.AccountController.Login(LoginInputModel model, String button) in C:\Users\ilgiz\source\repos\detree\auth\IdentityServer\Controllers\AccountController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-05 23:25:11.754 +03:00 [ERR] An error occurred using the connection to database 'dtdb' on server 'tcp://localhost:5432'.
2020-03-05 23:25:29.522 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-03-05 23:25:29.542 +03:00 [ERR] Exception removing expired grants: Exception while connecting
2020-03-05 23:26:03.645 +03:00 [ERR] An error occurred using the connection to database 'dtdb' on server 'tcp://localhost:5432'.
2020-03-05 23:26:03.707 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-03-05 23:26:03.722 +03:00 [ERR] Exception removing expired grants: An exception has been raised that is likely due to a transient failure.
2020-03-05 23:26:37.851 +03:00 [ERR] An error occurred using the connection to database 'dtdb' on server 'tcp://localhost:5432'.
2020-03-05 23:26:37.909 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while connecting
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061):   , ..      . 127.0.0.1:5432
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.TaskExtensions.WithCancellation(Task task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout(Task task, NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-03-05 23:26:37.922 +03:00 [ERR] Exception removing expired grants: An exception has been raised that is likely due to a transient failure.
2020-03-05 23:27:09.203 +03:00 [INF] Removing 0 grants
2020-03-05 23:27:09.259 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:27:39.357 +03:00 [INF] Removing 0 grants
2020-03-05 23:27:39.366 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:28:09.455 +03:00 [INF] Removing 0 grants
2020-03-05 23:28:09.465 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:28:39.511 +03:00 [INF] Removing 0 grants
2020-03-05 23:28:39.526 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:29:09.580 +03:00 [INF] Removing 0 grants
2020-03-05 23:29:09.594 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:29:39.688 +03:00 [INF] Removing 0 grants
2020-03-05 23:29:39.704 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:30:09.757 +03:00 [INF] Removing 0 grants
2020-03-05 23:30:09.777 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:30:39.860 +03:00 [INF] Removing 0 grants
2020-03-05 23:30:39.874 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:31:09.945 +03:00 [INF] Removing 0 grants
2020-03-05 23:31:09.960 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:31:40.065 +03:00 [INF] Removing 0 grants
2020-03-05 23:31:40.082 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:32:10.136 +03:00 [INF] Removing 0 grants
2020-03-05 23:32:10.153 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:32:40.239 +03:00 [INF] Removing 0 grants
2020-03-05 23:32:40.255 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:33:10.717 +03:00 [INF] Removing 0 grants
2020-03-05 23:33:10.746 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:33:24.987 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 23:33:42.719 +03:00 [INF] Removing 0 grants
2020-03-05 23:33:42.786 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:34:12.876 +03:00 [INF] Removing 0 grants
2020-03-05 23:34:12.885 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:34:42.947 +03:00 [INF] Removing 0 grants
2020-03-05 23:34:42.964 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:35:13.008 +03:00 [INF] Removing 0 grants
2020-03-05 23:35:13.023 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:54:24.099 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-05 23:54:24.373 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-05 23:54:25.876 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-05 23:54:51.205 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-05 23:54:51.338 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-05 23:54:51.403 +03:00 [INF] Showing login: User is not authenticated
2020-03-05 23:54:56.552 +03:00 [INF] Removing 0 grants
2020-03-05 23:54:56.572 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:55:28.963 +03:00 [INF] Removing 0 grants
2020-03-05 23:55:28.973 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:55:36.082 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-05 23:56:02.632 +03:00 [INF] Removing 0 grants
2020-03-05 23:56:02.641 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:56:32.679 +03:00 [INF] Removing 0 grants
2020-03-05 23:56:32.691 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:57:02.711 +03:00 [INF] Removing 0 grants
2020-03-05 23:57:02.721 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:57:32.749 +03:00 [INF] Removing 0 grants
2020-03-05 23:57:32.760 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:58:02.801 +03:00 [INF] Removing 0 grants
2020-03-05 23:58:02.812 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:58:32.844 +03:00 [INF] Removing 0 grants
2020-03-05 23:58:32.848 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:59:02.882 +03:00 [INF] Removing 0 grants
2020-03-05 23:59:02.892 +03:00 [INF] Removing 0 device flow codes
2020-03-05 23:59:32.915 +03:00 [INF] Removing 0 grants
2020-03-05 23:59:32.924 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:00:02.960 +03:00 [INF] Removing 0 grants
2020-03-06 00:00:02.967 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:00:33.035 +03:00 [INF] Removing 0 grants
2020-03-06 00:00:33.042 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:01:03.089 +03:00 [INF] Removing 0 grants
2020-03-06 00:01:03.100 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:01:33.132 +03:00 [INF] Removing 0 grants
2020-03-06 00:01:33.137 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:02:03.174 +03:00 [INF] Removing 0 grants
2020-03-06 00:02:03.181 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:02:33.213 +03:00 [INF] Removing 0 grants
2020-03-06 00:02:33.222 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:03:03.283 +03:00 [INF] Removing 0 grants
2020-03-06 00:03:03.293 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:03:33.342 +03:00 [INF] Removing 0 grants
2020-03-06 00:03:33.351 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:04:03.409 +03:00 [INF] Removing 0 grants
2020-03-06 00:04:03.418 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:04:33.461 +03:00 [INF] Removing 0 grants
2020-03-06 00:04:33.472 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:05:03.501 +03:00 [INF] Removing 0 grants
2020-03-06 00:05:03.505 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:05:33.527 +03:00 [INF] Removing 0 grants
2020-03-06 00:05:33.537 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:06:03.554 +03:00 [INF] Removing 0 grants
2020-03-06 00:06:03.564 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:06:33.603 +03:00 [INF] Removing 0 grants
2020-03-06 00:06:33.609 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:07:03.643 +03:00 [INF] Removing 0 grants
2020-03-06 00:07:03.650 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:07:33.673 +03:00 [INF] Removing 0 grants
2020-03-06 00:07:33.681 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:08:03.725 +03:00 [INF] Removing 0 grants
2020-03-06 00:08:03.739 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:08:33.764 +03:00 [INF] Removing 0 grants
2020-03-06 00:08:33.769 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:09:03.804 +03:00 [INF] Removing 0 grants
2020-03-06 00:09:03.814 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:09:33.838 +03:00 [INF] Removing 0 grants
2020-03-06 00:09:33.850 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:10:03.877 +03:00 [INF] Removing 0 grants
2020-03-06 00:10:03.886 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:10:33.922 +03:00 [INF] Removing 0 grants
2020-03-06 00:10:33.930 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:11:03.962 +03:00 [INF] Removing 0 grants
2020-03-06 00:11:03.967 +03:00 [INF] Removing 0 device flow codes
2020-03-06 00:11:34.014 +03:00 [INF] Removing 0 grants
2020-03-06 00:11:34.018 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:25:14.177 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-06 08:25:15.123 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-06 08:25:17.929 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-06 08:25:49.951 +03:00 [INF] Removing 0 grants
2020-03-06 08:25:50.022 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:26:20.197 +03:00 [INF] Removing 0 grants
2020-03-06 08:26:20.212 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:26:50.291 +03:00 [INF] Removing 0 grants
2020-03-06 08:26:50.304 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:27:20.464 +03:00 [INF] Removing 0 grants
2020-03-06 08:27:20.505 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:27:27.799 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-06 08:27:28.077 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-06 08:27:28.331 +03:00 [INF] Showing login: User is not authenticated
2020-03-06 08:27:50.602 +03:00 [INF] Removing 0 grants
2020-03-06 08:27:50.623 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:27:52.244 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-06 08:27:52.295 +03:00 [ERR] No client identifier found
2020-03-06 08:28:20.670 +03:00 [INF] Removing 0 grants
2020-03-06 08:28:20.684 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:28:32.297 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:28:50.755 +03:00 [INF] Removing 0 grants
2020-03-06 08:28:50.785 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:29:20.890 +03:00 [INF] Removing 0 grants
2020-03-06 08:29:20.925 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:29:43.231 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:29:50.958 +03:00 [INF] Removing 0 grants
2020-03-06 08:29:50.980 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:30:21.043 +03:00 [INF] Removing 0 grants
2020-03-06 08:30:21.055 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:30:51.100 +03:00 [INF] Removing 0 grants
2020-03-06 08:30:51.119 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:31:15.283 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-06 08:31:15.291 +03:00 [INF] Showing login: User is not authenticated
2020-03-06 08:31:21.201 +03:00 [INF] Removing 0 grants
2020-03-06 08:31:21.235 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:31:51.319 +03:00 [INF] Removing 0 grants
2020-03-06 08:31:51.342 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:32:14.551 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-06 08:32:21.639 +03:00 [INF] Removing 0 grants
2020-03-06 08:32:21.658 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:32:51.709 +03:00 [INF] Removing 0 grants
2020-03-06 08:32:51.731 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:33:21.803 +03:00 [INF] Removing 0 grants
2020-03-06 08:33:21.823 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:33:51.879 +03:00 [INF] Removing 0 grants
2020-03-06 08:33:51.893 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:34:21.938 +03:00 [INF] Removing 0 grants
2020-03-06 08:34:21.957 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:34:52.032 +03:00 [INF] Removing 0 grants
2020-03-06 08:34:52.049 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:35:22.084 +03:00 [INF] Removing 0 grants
2020-03-06 08:35:22.102 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:35:52.163 +03:00 [INF] Removing 0 grants
2020-03-06 08:35:52.171 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:36:22.225 +03:00 [INF] Removing 0 grants
2020-03-06 08:36:22.243 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:36:55.400 +03:00 [INF] Removing 0 grants
2020-03-06 08:36:55.415 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:36:55.939 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'providedPassword')
   at Microsoft.AspNetCore.Identity.PasswordHasher`1.VerifyHashedPassword(TUser user, String hashedPassword, String providedPassword)
   at Microsoft.AspNetCore.Identity.UserManager`1.VerifyPasswordAsync(IUserPasswordStore`1 store, TUser user, String password)
   at Microsoft.AspNetCore.Identity.UserManager`1.CheckPasswordAsync(TUser user, String password)
   at IdentityServer.Controllers.AccountController.Login(LoginInputModel model, String button) in C:\Users\ilgiz\source\repos\detree\auth\IdentityServer\Controllers\AccountController.cs:line 97
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-03-06 08:37:30.155 +03:00 [INF] Removing 0 grants
2020-03-06 08:37:30.168 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:37:30.211 +03:00 [WRN] Invalid password for user b100f027-05d6-49f2-b7a8-a26f191eae2a.
2020-03-06 08:38:00.199 +03:00 [INF] Removing 0 grants
2020-03-06 08:38:00.212 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:38:28.643 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:38:28.752 +03:00 [WRN] Invalid password for user b100f027-05d6-49f2-b7a8-a26f191eae2a.
2020-03-06 08:38:28.766 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:38:30.239 +03:00 [INF] Removing 0 grants
2020-03-06 08:38:30.253 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:39:01.145 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:39:02.241 +03:00 [INF] Removing 0 grants
2020-03-06 08:39:03.242 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:39:03.288 +03:00 [WRN] Invalid password for user b100f027-05d6-49f2-b7a8-a26f191eae2a.
2020-03-06 08:39:09.277 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:39:31.240 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:39:31.390 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-06 08:39:31.397 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:39:31.405 +03:00 [ERR] Request validation failed
2020-03-06 08:39:31.411 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:39:33.268 +03:00 [INF] Removing 0 grants
2020-03-06 08:39:33.283 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:40:01.690 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:40:06.192 +03:00 [INF] Removing 0 grants
2020-03-06 08:40:06.325 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:40:21.014 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-06 08:40:21.050 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:40:21.059 +03:00 [ERR] Request validation failed
2020-03-06 08:40:21.070 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:40:36.370 +03:00 [INF] Removing 0 grants
2020-03-06 08:40:36.391 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:41:06.446 +03:00 [INF] Removing 0 grants
2020-03-06 08:41:06.473 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:41:36.513 +03:00 [INF] Removing 0 grants
2020-03-06 08:41:36.530 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:42:06.563 +03:00 [INF] Removing 0 grants
2020-03-06 08:42:06.581 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:42:36.658 +03:00 [INF] Removing 0 grants
2020-03-06 08:42:36.674 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:43:06.717 +03:00 [INF] Removing 0 grants
2020-03-06 08:43:06.746 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:43:37.929 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:43:38.031 +03:00 [INF] Removing 0 grants
2020-03-06 08:43:38.044 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:43:38.073 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-06 08:43:38.079 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:43:38.083 +03:00 [ERR] Request validation failed
2020-03-06 08:43:38.087 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:43:46.968 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:43:59.375 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-06 08:43:59.381 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:43:59.388 +03:00 [ERR] Request validation failed
2020-03-06 08:43:59.395 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:44:08.080 +03:00 [INF] Removing 0 grants
2020-03-06 08:44:08.089 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:44:52.994 +03:00 [INF] Removing 0 grants
2020-03-06 08:44:53.012 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:45:04.651 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-06 08:45:04.739 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-06 08:45:04.749 +03:00 [INF] Showing login: User is not authenticated
2020-03-06 08:45:23.065 +03:00 [INF] Removing 0 grants
2020-03-06 08:45:23.080 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:45:39.253 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:45:57.103 +03:00 [INF] Removing 0 grants
2020-03-06 08:45:58.508 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:46:05.415 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-06 08:46:05.419 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:46:05.424 +03:00 [ERR] Request validation failed
2020-03-06 08:46:05.429 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:46:39.852 +03:00 [INF] Removing 0 grants
2020-03-06 08:46:40.386 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:46:43.455 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:48:33.461 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-06 08:48:33.468 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:48:33.473 +03:00 [ERR] Request validation failed
2020-03-06 08:48:33.479 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:48:38.198 +03:00 [ERR] An error occurred using the connection to database 'dtdb' on server 'tcp://localhost:5432'.
2020-03-06 08:48:39.380 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-03-06 08:48:39.392 +03:00 [ERR] Exception removing expired grants: An exception has been raised that is likely due to a transient failure.
2020-03-06 08:50:57.174 +03:00 [INF] Removing 0 grants
2020-03-06 08:50:57.184 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:51:42.823 +03:00 [INF] Removing 0 grants
2020-03-06 08:51:42.842 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:52:17.195 +03:00 [INF] Removing 0 grants
2020-03-06 08:52:17.228 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:52:47.299 +03:00 [INF] Removing 0 grants
2020-03-06 08:52:47.317 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:53:17.353 +03:00 [INF] Removing 0 grants
2020-03-06 08:53:17.370 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:53:35.864 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:53:37.273 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-06 08:53:37.292 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:53:37.299 +03:00 [ERR] Request validation failed
2020-03-06 08:53:37.307 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 08:53:47.435 +03:00 [INF] Removing 0 grants
2020-03-06 08:53:47.449 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:54:17.531 +03:00 [INF] Removing 0 grants
2020-03-06 08:54:17.541 +03:00 [INF] Removing 0 device flow codes
2020-03-06 08:54:47.600 +03:00 [INF] Removing 0 grants
2020-03-06 08:54:47.615 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:10:12.930 +03:00 [INF] Removing 0 grants
2020-03-06 21:10:12.937 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:10:43.008 +03:00 [INF] Removing 0 grants
2020-03-06 21:10:43.015 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:11:13.072 +03:00 [INF] Removing 0 grants
2020-03-06 21:11:13.082 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:11:43.145 +03:00 [INF] Removing 0 grants
2020-03-06 21:11:43.175 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:12:13.286 +03:00 [INF] Removing 0 grants
2020-03-06 21:12:13.302 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:12:43.336 +03:00 [INF] Removing 0 grants
2020-03-06 21:12:43.349 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:13:13.390 +03:00 [INF] Removing 0 grants
2020-03-06 21:13:13.409 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:13:43.441 +03:00 [INF] Removing 0 grants
2020-03-06 21:13:43.450 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:14:13.527 +03:00 [INF] Removing 0 grants
2020-03-06 21:14:13.542 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:14:43.583 +03:00 [INF] Removing 0 grants
2020-03-06 21:14:43.600 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:15:13.652 +03:00 [INF] Removing 0 grants
2020-03-06 21:15:13.668 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:15:43.706 +03:00 [INF] Removing 0 grants
2020-03-06 21:15:43.724 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:16:13.754 +03:00 [INF] Removing 0 grants
2020-03-06 21:16:13.773 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:16:43.834 +03:00 [INF] Removing 0 grants
2020-03-06 21:16:43.851 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:17:13.890 +03:00 [INF] Removing 0 grants
2020-03-06 21:17:13.921 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:17:43.963 +03:00 [INF] Removing 0 grants
2020-03-06 21:17:43.981 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:18:14.023 +03:00 [INF] Removing 0 grants
2020-03-06 21:18:14.040 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:18:44.106 +03:00 [INF] Removing 0 grants
2020-03-06 21:18:44.123 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:19:14.197 +03:00 [INF] Removing 0 grants
2020-03-06 21:19:14.213 +03:00 [INF] Removing 0 device flow codes
2020-03-06 21:19:44.279 +03:00 [INF] Removing 0 grants
2020-03-06 21:19:44.288 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:43:37.957 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-06 22:43:38.876 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-06 22:43:41.359 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-06 22:44:21.148 +03:00 [INF] Removing 0 grants
2020-03-06 22:44:21.192 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:44:51.486 +03:00 [INF] Removing 0 grants
2020-03-06 22:44:51.513 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:45:21.593 +03:00 [INF] Removing 0 grants
2020-03-06 22:45:21.609 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:45:56.194 +03:00 [INF] Removing 0 grants
2020-03-06 22:45:56.208 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:45:56.414 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 22:46:02.827 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-06 22:46:02.854 +03:00 [ERR] redirect_uri is missing or too long
{"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 22:46:02.863 +03:00 [ERR] Request validation failed
2020-03-06 22:46:02.868 +03:00 [INF] {"ClientId":"angular_spa","ClientName":"Angular SPA","RedirectUri":null,"AllowedRedirectUris":["http://localhost:4200/auth-callback"],"SubjectId":"b100f027-05d6-49f2-b7a8-a26f191eae2a","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"angular_spa"},"$type":"AuthorizeRequestValidationLog"}
2020-03-06 22:46:26.296 +03:00 [INF] Removing 0 grants
2020-03-06 22:46:26.310 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:46:56.401 +03:00 [INF] Removing 0 grants
2020-03-06 22:46:56.422 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:47:26.508 +03:00 [INF] Removing 0 grants
2020-03-06 22:47:26.524 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:47:56.620 +03:00 [INF] Removing 0 grants
2020-03-06 22:47:56.641 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:48:26.709 +03:00 [INF] Removing 0 grants
2020-03-06 22:48:26.728 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:48:56.782 +03:00 [INF] Removing 0 grants
2020-03-06 22:48:56.802 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:49:26.911 +03:00 [INF] Removing 0 grants
2020-03-06 22:49:26.929 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:49:57.025 +03:00 [INF] Removing 0 grants
2020-03-06 22:49:57.036 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:50:27.073 +03:00 [INF] Removing 0 grants
2020-03-06 22:50:27.087 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:50:45.805 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-06 22:50:45.878 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","password":"***REDACTED***","username":"tim.ilgiz@gmail.com","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-06 22:50:57.168 +03:00 [INF] Removing 0 grants
2020-03-06 22:50:57.186 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:51:27.239 +03:00 [INF] Removing 0 grants
2020-03-06 22:51:27.250 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:51:57.325 +03:00 [INF] Removing 0 grants
2020-03-06 22:51:57.343 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:52:27.421 +03:00 [INF] Removing 0 grants
2020-03-06 22:52:27.437 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:52:57.500 +03:00 [INF] Removing 0 grants
2020-03-06 22:52:57.519 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:53:27.593 +03:00 [INF] Removing 0 grants
2020-03-06 22:53:27.608 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:53:57.638 +03:00 [INF] Removing 0 grants
2020-03-06 22:53:57.654 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:54:27.731 +03:00 [INF] Removing 0 grants
2020-03-06 22:54:27.747 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:54:55.573 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-06 22:54:55.589 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","password":"***REDACTED***","username":"tim.ilgiz@gmail.com","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-06 22:54:57.831 +03:00 [INF] Removing 0 grants
2020-03-06 22:54:57.840 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:55:27.928 +03:00 [INF] Removing 0 grants
2020-03-06 22:55:27.944 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:55:58.009 +03:00 [INF] Removing 0 grants
2020-03-06 22:55:58.028 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:56:28.133 +03:00 [INF] Removing 0 grants
2020-03-06 22:56:28.153 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:56:33.869 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-06 22:56:33.874 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","password":"***REDACTED***","username":"tim.ilgiz@gmail.com","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-06 22:56:58.222 +03:00 [INF] Removing 0 grants
2020-03-06 22:56:58.242 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:57:28.326 +03:00 [INF] Removing 0 grants
2020-03-06 22:57:28.342 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:57:58.395 +03:00 [INF] Removing 0 grants
2020-03-06 22:57:58.412 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:58:16.571 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-06 22:58:16.583 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","password":"***REDACTED***","username":"tim.ilgiz@gmail.com","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-06 22:58:28.468 +03:00 [INF] Removing 0 grants
2020-03-06 22:58:28.493 +03:00 [INF] Removing 0 device flow codes
2020-03-06 22:58:32.161 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-06 22:58:32.168 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","password":"***REDACTED***","username":"tim.ilgiz@gmail.com","client_id":"angular_spa"},"$type":"TokenRequestValidationLog"}
2020-03-06 22:58:36.478 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-03-06 22:58:36.502 +03:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"angular_spa"}, details: {"ClientId":"angular_spa","ClientName":"Angular SPA","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","password":"***REDACTED***","username":"tim.ilgiz@gmail.com","client_id":"angular_spa","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2020-03-09 22:22:09.838 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-09 22:22:11.302 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-09 22:22:12.644 +03:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://[::1]:5230: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException:        (/ /).
 ---> System.Net.Sockets.SocketException (10048):        (/ /).
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2020-03-09 22:23:03.706 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-09 22:23:04.051 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-09 22:23:06.798 +03:00 [WRN] Failed to determine the https port for redirect.
2020-03-09 22:23:22.033 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-09 22:23:22.210 +03:00 [INF] Showing login: User is not authenticated
2020-03-09 22:23:40.865 +03:00 [INF] Removing 0 grants
2020-03-09 22:23:40.950 +03:00 [INF] Removing 0 device flow codes
2020-03-09 22:24:17.987 +03:00 [INF] Removing 0 grants
2020-03-09 22:24:18.003 +03:00 [INF] Removing 0 device flow codes
2020-03-09 22:24:48.081 +03:00 [INF] Removing 0 grants
2020-03-09 22:24:48.124 +03:00 [INF] Removing 0 device flow codes
2020-03-09 22:25:13.547 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-09 22:25:18.231 +03:00 [INF] Removing 0 grants
2020-03-09 22:25:18.257 +03:00 [INF] Removing 0 device flow codes
2020-03-09 22:25:55.382 +03:00 [INF] Removing 0 grants
2020-03-09 22:25:55.400 +03:00 [INF] Removing 0 device flow codes
2020-03-09 22:26:25.477 +03:00 [INF] Removing 0 grants
2020-03-09 22:26:25.503 +03:00 [INF] Removing 0 device flow codes
2020-03-09 22:26:55.555 +03:00 [INF] Removing 0 grants
2020-03-09 22:26:55.569 +03:00 [INF] Removing 0 device flow codes
2020-03-09 22:27:25.656 +03:00 [INF] Removing 0 grants
2020-03-09 22:27:25.677 +03:00 [INF] Removing 0 device flow codes
2020-03-09 22:27:55.764 +03:00 [INF] Removing 0 grants
2020-03-09 22:27:55.788 +03:00 [INF] Removing 0 device flow codes
2020-03-09 22:28:02.090 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-03-09 22:28:19.206 +03:00 [INF] Profile service returned the following claim types: sub name email preferred_username email email_verified given_name email http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2020-03-09 22:28:25.880 +03:00 [INF] Removing 0 grants
2020-03-09 22:28:25.900 +03:00 [INF] Removing 0 device flow codes
2020-03-10 09:40:50.672 +03:00 [INF] Starting IdentityServer4 version 3.1.0.0
2020-03-10 09:40:51.142 +03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-03-10 09:40:52.027 +03:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://[::1]:5230: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException:        (/ /).
 ---> System.Net.Sockets.SocketException (10048):        (/ /).
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
